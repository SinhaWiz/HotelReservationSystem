<?xml version="1.0" encoding="UTF-8"?>
<project version="4">
  <component name="CopilotDiffPersistence">
    <option name="pendingDiffs">
      <map>
        <entry key="$PROJECT_DIR$/HotelRentalSystem/src/main/java/com/hotel/dao/BlacklistedCustomerDAO.java">
          <value>
            <PendingDiffInfo>
              <option name="filePath" value="$PROJECT_DIR$/HotelRentalSystem/src/main/java/com/hotel/dao/BlacklistedCustomerDAO.java" />
              <option name="originalContent" value="package com.hotel.dao;&#10;&#10;import com.hotel.model.BlacklistedCustomer;&#10;import com.hotel.util.DatabaseConnection;&#10;&#10;import java.sql.*;&#10;import java.util.ArrayList;&#10;import java.util.List;&#10;&#10;/**&#10; * Data Access Object for BlacklistedCustomer operations&#10; */&#10;public class BlacklistedCustomerDAO {&#10;    &#10;    // Blacklist a customer using stored procedure&#10;    public int blacklistCustomer(int customerId, String reason, String blacklistedBy, Date expiryDate) throws SQLException {&#10;        String sql = &quot;{CALL blacklist_customer(?, ?, ?, ?, ?, ?, ?)}&quot;;&#10;        &#10;        try (Connection conn = DatabaseConnection.getConnection();&#10;             CallableStatement stmt = conn.prepareCall(sql)) {&#10;            &#10;            stmt.setInt(1, customerId);&#10;            stmt.setString(2, reason);&#10;            stmt.setString(3, blacklistedBy);&#10;            if (expiryDate != null) {&#10;                stmt.setDate(4, expiryDate);&#10;            } else {&#10;                stmt.setNull(4, Types.DATE);&#10;            }&#10;            stmt.registerOutParameter(5, Types.NUMERIC); // blacklist_id&#10;            stmt.registerOutParameter(6, Types.NUMERIC); // success&#10;            stmt.registerOutParameter(7, Types.VARCHAR); // message&#10;            &#10;            stmt.execute();&#10;            &#10;            int success = stmt.getInt(6);&#10;            String message = stmt.getString(7);&#10;            &#10;            if (success == 1) {&#10;                return stmt.getInt(5);&#10;            } else {&#10;                throw new SQLException(&quot;Failed to blacklist customer: &quot; + message);&#10;            }&#10;        }&#10;    }&#10;    &#10;    // Remove customer from blacklist using stored procedure&#10;    public void removeFromBlacklist(int customerId, String removedBy) throws SQLException {&#10;        String sql = &quot;{CALL remove_from_blacklist(?, ?, ?, ?)}&quot;;&#10;        &#10;        try (Connection conn = DatabaseConnection.getConnection();&#10;             CallableStatement stmt = conn.prepareCall(sql)) {&#10;            &#10;            stmt.setInt(1, customerId);&#10;            stmt.setString(2, removedBy);&#10;            stmt.registerOutParameter(3, Types.NUMERIC); // success&#10;            stmt.registerOutParameter(4, Types.VARCHAR); // message&#10;            &#10;            stmt.execute();&#10;            &#10;            int success = stmt.getInt(3);&#10;            String message = stmt.getString(4);&#10;            &#10;            if (success != 1) {&#10;                throw new SQLException(&quot;Failed to remove customer from blacklist: &quot; + message);&#10;            }&#10;        }&#10;    }&#10;    &#10;    // Check if customer is blacklisted using function&#10;    public boolean isCustomerBlacklisted(int customerId) throws SQLException {&#10;        String sql = &quot;SELECT is_customer_blacklisted(?) FROM DUAL&quot;;&#10;        &#10;        try (Connection conn = DatabaseConnection.getConnection();&#10;             PreparedStatement stmt = conn.prepareStatement(sql)) {&#10;            &#10;            stmt.setInt(1, customerId);&#10;            &#10;            try (ResultSet rs = stmt.executeQuery()) {&#10;                if (rs.next()) {&#10;                    return &quot;Y&quot;.equals(rs.getString(1));&#10;                }&#10;            }&#10;        }&#10;        return false;&#10;    }&#10;    &#10;    // Find blacklist record by ID&#10;    public BlacklistedCustomer findById(int blacklistId) throws SQLException {&#10;        String sql = &quot;SELECT bl.blacklist_id, bl.customer_id, bl.blacklist_reason, &quot; +&#10;                    &quot;bl.blacklisted_by, bl.blacklist_date, bl.expiry_date, &quot; +&#10;                    &quot;bl.is_active, bl.notes, &quot; +&#10;                    &quot;c.first_name, c.last_name, c.email &quot; +&#10;                    &quot;FROM blacklisted_customers bl &quot; +&#10;                    &quot;JOIN customers c ON bl.customer_id = c.customer_id &quot; +&#10;                    &quot;WHERE bl.blacklist_id = ?&quot;;&#10;        &#10;        try (Connection conn = DatabaseConnection.getConnection();&#10;             PreparedStatement stmt = conn.prepareStatement(sql)) {&#10;            &#10;            stmt.setInt(1, blacklistId);&#10;            &#10;            try (ResultSet rs = stmt.executeQuery()) {&#10;                if (rs.next()) {&#10;                    return mapResultSetToBlacklistedCustomer(rs);&#10;                }&#10;            }&#10;        }&#10;        return null;&#10;    }&#10;    &#10;    // Find blacklist records by customer ID&#10;    public List&lt;BlacklistedCustomer&gt; findByCustomerId(int customerId) throws SQLException {&#10;        String sql = &quot;SELECT bl.blacklist_id, bl.customer_id, bl.blacklist_reason, &quot; +&#10;                    &quot;bl.blacklisted_by, bl.blacklist_date, bl.expiry_date, &quot; +&#10;                    &quot;bl.is_active, bl.notes, &quot; +&#10;                    &quot;c.first_name, c.last_name, c.email &quot; +&#10;                    &quot;FROM blacklisted_customers bl &quot; +&#10;                    &quot;JOIN customers c ON bl.customer_id = c.customer_id &quot; +&#10;                    &quot;WHERE bl.customer_id = ? ORDER BY bl.blacklist_date DESC&quot;;&#10;        &#10;        List&lt;BlacklistedCustomer&gt; blacklistRecords = new ArrayList&lt;&gt;();&#10;        &#10;        try (Connection conn = DatabaseConnection.getConnection();&#10;             PreparedStatement stmt = conn.prepareStatement(sql)) {&#10;            &#10;            stmt.setInt(1, customerId);&#10;            &#10;            try (ResultSet rs = stmt.executeQuery()) {&#10;                while (rs.next()) {&#10;                    blacklistRecords.add(mapResultSetToBlacklistedCustomer(rs));&#10;                }&#10;            }&#10;        }&#10;        return blacklistRecords;&#10;    }&#10;    &#10;    // Find all active blacklisted customers&#10;    public List&lt;BlacklistedCustomer&gt; findActiveBlacklistedCustomers() throws SQLException {&#10;        String sql = &quot;SELECT bl.blacklist_id, bl.customer_id, bl.blacklist_reason, &quot; +&#10;                    &quot;bl.blacklisted_by, bl.blacklist_date, bl.expiry_date, &quot; +&#10;                    &quot;bl.is_active, bl.notes, &quot; +&#10;                    &quot;c.first_name, c.last_name, c.email &quot; +&#10;                    &quot;FROM blacklisted_customers bl &quot; +&#10;                    &quot;JOIN customers c ON bl.customer_id = c.customer_id &quot; +&#10;                    &quot;WHERE bl.is_active = 'Y' &quot; +&#10;                    &quot;AND (bl.expiry_date IS NULL OR bl.expiry_date &gt; SYSDATE) &quot; +&#10;                    &quot;ORDER BY bl.blacklist_date DESC&quot;;&#10;        &#10;        List&lt;BlacklistedCustomer&gt; blacklistRecords = new ArrayList&lt;&gt;();&#10;        &#10;        try (Connection conn = DatabaseConnection.getConnection();&#10;             PreparedStatement stmt = conn.prepareStatement(sql);&#10;             ResultSet rs = stmt.executeQuery()) {&#10;            &#10;            while (rs.next()) {&#10;                blacklistRecords.add(mapResultSetToBlacklistedCustomer(rs));&#10;            }&#10;        }&#10;        return blacklistRecords;&#10;    }&#10;    &#10;    // Find all blacklisted customers (including inactive)&#10;    public List&lt;BlacklistedCustomer&gt; findAllBlacklistedCustomers() throws SQLException {&#10;        String sql = &quot;SELECT bl.blacklist_id, bl.customer_id, bl.blacklist_reason, &quot; +&#10;                    &quot;bl.blacklisted_by, bl.blacklist_date, bl.expiry_date, &quot; +&#10;                    &quot;bl.is_active, bl.notes, &quot; +&#10;                    &quot;c.first_name, c.last_name, c.email &quot; +&#10;                    &quot;FROM blacklisted_customers bl &quot; +&#10;                    &quot;JOIN customers c ON bl.customer_id = c.customer_id &quot; +&#10;                    &quot;ORDER BY bl.blacklist_date DESC&quot;;&#10;        &#10;        List&lt;BlacklistedCustomer&gt; blacklistRecords = new ArrayList&lt;&gt;();&#10;        &#10;        try (Connection conn = DatabaseConnection.getConnection();&#10;             PreparedStatement stmt = conn.prepareStatement(sql);&#10;             ResultSet rs = stmt.executeQuery()) {&#10;            &#10;            while (rs.next()) {&#10;                blacklistRecords.add(mapResultSetToBlacklistedCustomer(rs));&#10;            }&#10;        }&#10;        return blacklistRecords;&#10;    }&#10;    &#10;    // Find expired blacklist records&#10;    public List&lt;BlacklistedCustomer&gt; findExpiredBlacklistRecords() throws SQLException {&#10;        String sql = &quot;SELECT bl.blacklist_id, bl.customer_id, bl.blacklist_reason, &quot; +&#10;                    &quot;bl.blacklisted_by, bl.blacklist_date, bl.expiry_date, &quot; +&#10;                    &quot;bl.is_active, bl.notes, &quot; +&#10;                    &quot;c.first_name, c.last_name, c.email &quot; +&#10;                    &quot;FROM blacklisted_customers bl &quot; +&#10;                    &quot;JOIN customers c ON bl.customer_id = c.customer_id &quot; +&#10;                    &quot;WHERE bl.is_active = 'Y' &quot; +&#10;                    &quot;AND bl.expiry_date IS NOT NULL &quot; +&#10;                    &quot;AND bl.expiry_date &lt;= SYSDATE &quot; +&#10;                    &quot;ORDER BY bl.expiry_date&quot;;&#10;        &#10;        List&lt;BlacklistedCustomer&gt; expiredRecords = new ArrayList&lt;&gt;();&#10;        &#10;        try (Connection conn = DatabaseConnection.getConnection();&#10;             PreparedStatement stmt = conn.prepareStatement(sql);&#10;             ResultSet rs = stmt.executeQuery()) {&#10;            &#10;            while (rs.next()) {&#10;                expiredRecords.add(mapResultSetToBlacklistedCustomer(rs));&#10;            }&#10;        }&#10;        return expiredRecords;&#10;    }&#10;    &#10;    // Search blacklisted customers by name or reason&#10;    public List&lt;BlacklistedCustomer&gt; searchBlacklistedCustomers(String searchTerm) throws SQLException {&#10;        String sql = &quot;SELECT bl.blacklist_id, bl.customer_id, bl.blacklist_reason, &quot; +&#10;                    &quot;bl.blacklisted_by, bl.blacklist_date, bl.expiry_date, &quot; +&#10;                    &quot;bl.is_active, bl.notes, &quot; +&#10;                    &quot;c.first_name, c.last_name, c.email &quot; +&#10;                    &quot;FROM blacklisted_customers bl &quot; +&#10;                    &quot;JOIN customers c ON bl.customer_id = c.customer_id &quot; +&#10;                    &quot;WHERE (UPPER(c.first_name) LIKE UPPER(?) &quot; +&#10;                    &quot;OR UPPER(c.last_name) LIKE UPPER(?) &quot; +&#10;                    &quot;OR UPPER(bl.blacklist_reason) LIKE UPPER(?)) &quot; +&#10;                    &quot;ORDER BY bl.blacklist_date DESC&quot;;&#10;        &#10;        List&lt;BlacklistedCustomer&gt; searchResults = new ArrayList&lt;&gt;();&#10;        String searchPattern = &quot;%&quot; + searchTerm + &quot;%&quot;;&#10;        &#10;        try (Connection conn = DatabaseConnection.getConnection();&#10;             PreparedStatement stmt = conn.prepareStatement(sql)) {&#10;            &#10;            stmt.setString(1, searchPattern);&#10;            stmt.setString(2, searchPattern);&#10;            stmt.setString(3, searchPattern);&#10;            &#10;            try (ResultSet rs = stmt.executeQuery()) {&#10;                while (rs.next()) {&#10;                    searchResults.add(mapResultSetToBlacklistedCustomer(rs));&#10;                }&#10;            }&#10;        }&#10;        return searchResults;&#10;    }&#10;    &#10;    // Update blacklist record&#10;    public void update(BlacklistedCustomer blacklistedCustomer) throws SQLException {&#10;        String sql = &quot;UPDATE blacklisted_customers SET blacklist_reason = ?, &quot; +&#10;                    &quot;expiry_date = ?, is_active = ?, notes = ? WHERE blacklist_id = ?&quot;;&#10;        &#10;        try (Connection conn = DatabaseConnection.getConnection();&#10;             PreparedStatement stmt = conn.prepareStatement(sql)) {&#10;            &#10;            stmt.setString(1, blacklistedCustomer.getBlacklistReason());&#10;            if (blacklistedCustomer.getExpiryDate() != null) {&#10;                stmt.setDate(2, new Date(blacklistedCustomer.getExpiryDate().getTime()));&#10;            } else {&#10;                stmt.setNull(2, Types.DATE);&#10;            }&#10;            stmt.setString(3, blacklistedCustomer.isActive() ? &quot;Y&quot; : &quot;N&quot;);&#10;            stmt.setString(4, blacklistedCustomer.getNotes());&#10;            stmt.setInt(5, blacklistedCustomer.getBlacklistId());&#10;            &#10;            stmt.executeUpdate();&#10;        }&#10;    }&#10;    &#10;    // Get blacklist statistics&#10;    public int getActiveBlacklistCount() throws SQLException {&#10;        String sql = &quot;SELECT COUNT(*) FROM blacklisted_customers &quot; +&#10;                    &quot;WHERE is_active = 'Y' &quot; +&#10;                    &quot;AND (expiry_date IS NULL OR expiry_date &gt; SYSDATE)&quot;;&#10;        &#10;        try (Connection conn = DatabaseConnection.getConnection();&#10;             PreparedStatement stmt = conn.prepareStatement(sql);&#10;             ResultSet rs = stmt.executeQuery()) {&#10;            &#10;            if (rs.next()) {&#10;                return rs.getInt(1);&#10;            }&#10;        }&#10;        return 0;&#10;    }&#10;    &#10;    // Get blacklist count by reason&#10;    public List&lt;String&gt; getBlacklistReasonStatistics() throws SQLException {&#10;        String sql = &quot;SELECT blacklist_reason, COUNT(*) as count &quot; +&#10;                    &quot;FROM blacklisted_customers &quot; +&#10;                    &quot;WHERE is_active = 'Y' &quot; +&#10;                    &quot;GROUP BY blacklist_reason &quot; +&#10;                    &quot;ORDER BY count DESC&quot;;&#10;        &#10;        List&lt;String&gt; statistics = new ArrayList&lt;&gt;();&#10;        &#10;        try (Connection conn = DatabaseConnection.getConnection();&#10;             PreparedStatement stmt = conn.prepareStatement(sql);&#10;             ResultSet rs = stmt.executeQuery()) {&#10;            &#10;            while (rs.next()) {&#10;                statistics.add(rs.getString(&quot;blacklist_reason&quot;) + &quot;: &quot; + rs.getInt(&quot;count&quot;));&#10;            }&#10;        }&#10;        return statistics;&#10;    }&#10;    &#10;    // Helper method to map ResultSet to BlacklistedCustomer object&#10;    private BlacklistedCustomer mapResultSetToBlacklistedCustomer(ResultSet rs) throws SQLException {&#10;        BlacklistedCustomer blacklistedCustomer = new BlacklistedCustomer();&#10;        blacklistedCustomer.setBlacklistId(rs.getInt(&quot;blacklist_id&quot;));&#10;        blacklistedCustomer.setCustomerId(rs.getInt(&quot;customer_id&quot;));&#10;        blacklistedCustomer.setBlacklistReason(rs.getString(&quot;blacklist_reason&quot;));&#10;        blacklistedCustomer.setBlacklistedBy(rs.getString(&quot;blacklisted_by&quot;));&#10;        blacklistedCustomer.setBlacklistDate(rs.getTimestamp(&quot;blacklist_date&quot;));&#10;        blacklistedCustomer.setExpiryDate(rs.getTimestamp(&quot;expiry_date&quot;));&#10;        blacklistedCustomer.setActive(&quot;Y&quot;.equals(rs.getString(&quot;is_active&quot;)));&#10;        blacklistedCustomer.setNotes(rs.getString(&quot;notes&quot;));&#10;        return blacklistedCustomer;&#10;    }&#10;}&#10;&#10;" />
              <option name="updatedContent" value="package com.hotel.dao;&#10;&#10;import com.hotel.model.BlacklistedCustomer;&#10;import com.hotel.util.DatabaseConnection;&#10;&#10;import java.sql.*;&#10;import java.util.ArrayList;&#10;import java.util.List;&#10;&#10;/**&#10; * Data Access Object for BlacklistedCustomer operations&#10; */&#10;public class BlacklistedCustomerDAO {&#10;    &#10;    // Blacklist a customer using stored procedure&#10;    public int blacklistCustomer(int customerId, String reason, String blacklistedBy, Date expiryDate) throws SQLException {&#10;        String sql = &quot;{CALL blacklist_customer(?, ?, ?, ?, ?, ?, ?)}&quot;;&#10;        &#10;        try (Connection conn = DatabaseConnection.getConnection();&#10;             CallableStatement stmt = conn.prepareCall(sql)) {&#10;            &#10;            stmt.setInt(1, customerId);&#10;            stmt.setString(2, reason);&#10;            stmt.setString(3, blacklistedBy);&#10;            if (expiryDate != null) {&#10;                stmt.setDate(4, expiryDate);&#10;            } else {&#10;                stmt.setNull(4, Types.DATE);&#10;            }&#10;            stmt.registerOutParameter(5, Types.NUMERIC); // blacklist_id&#10;            stmt.registerOutParameter(6, Types.NUMERIC); // success&#10;            stmt.registerOutParameter(7, Types.VARCHAR); // message&#10;            &#10;            stmt.execute();&#10;            &#10;            int success = stmt.getInt(6);&#10;            String message = stmt.getString(7);&#10;            &#10;            if (success == 1) {&#10;                return stmt.getInt(5);&#10;            } else {&#10;                throw new SQLException(&quot;Failed to blacklist customer: &quot; + message);&#10;            }&#10;        }&#10;    }&#10;    &#10;    // Remove customer from blacklist using stored procedure&#10;    public void removeFromBlacklist(int customerId, String removedBy) throws SQLException {&#10;        String sql = &quot;{CALL remove_from_blacklist(?, ?, ?, ?)}&quot;;&#10;        &#10;        try (Connection conn = DatabaseConnection.getConnection();&#10;             CallableStatement stmt = conn.prepareCall(sql)) {&#10;            &#10;            stmt.setInt(1, customerId);&#10;            stmt.setString(2, removedBy);&#10;            stmt.registerOutParameter(3, Types.NUMERIC); // success&#10;            stmt.registerOutParameter(4, Types.VARCHAR); // message&#10;            &#10;            stmt.execute();&#10;            &#10;            int success = stmt.getInt(3);&#10;            String message = stmt.getString(4);&#10;            &#10;            if (success != 1) {&#10;                throw new SQLException(&quot;Failed to remove customer from blacklist: &quot; + message);&#10;            }&#10;        }&#10;    }&#10;    &#10;    // Check if customer is blacklisted using function&#10;    public boolean isCustomerBlacklisted(int customerId) throws SQLException {&#10;        String sql = &quot;SELECT is_customer_blacklisted(?) FROM DUAL&quot;;&#10;        &#10;        try (Connection conn = DatabaseConnection.getConnection();&#10;             PreparedStatement stmt = conn.prepareStatement(sql)) {&#10;            &#10;            stmt.setInt(1, customerId);&#10;            &#10;            try (ResultSet rs = stmt.executeQuery()) {&#10;                if (rs.next()) {&#10;                    return &quot;Y&quot;.equals(rs.getString(1));&#10;                }&#10;            }&#10;        }&#10;        return false;&#10;    }&#10;    &#10;    // Find blacklist record by ID&#10;    public BlacklistedCustomer findById(int blacklistId) throws SQLException {&#10;        String sql = &quot;SELECT bl.blacklist_id, bl.customer_id, bl.blacklist_reason, &quot; +&#10;                    &quot;bl.blacklisted_by, bl.blacklist_date, bl.expiry_date, &quot; +&#10;                    &quot;bl.is_active, bl.notes, &quot; +&#10;                    &quot;c.first_name, c.last_name, c.email &quot; +&#10;                    &quot;FROM blacklisted_customers bl &quot; +&#10;                    &quot;JOIN customers c ON bl.customer_id = c.customer_id &quot; +&#10;                    &quot;WHERE bl.blacklist_id = ?&quot;;&#10;        &#10;        try (Connection conn = DatabaseConnection.getConnection();&#10;             PreparedStatement stmt = conn.prepareStatement(sql)) {&#10;            &#10;            stmt.setInt(1, blacklistId);&#10;            &#10;            try (ResultSet rs = stmt.executeQuery()) {&#10;                if (rs.next()) {&#10;                    return mapResultSetToBlacklistedCustomer(rs);&#10;                }&#10;            }&#10;        }&#10;        return null;&#10;    }&#10;    &#10;    // Find blacklist records by customer ID&#10;    public List&lt;BlacklistedCustomer&gt; findByCustomerId(int customerId) throws SQLException {&#10;        String sql = &quot;SELECT bl.blacklist_id, bl.customer_id, bl.blacklist_reason, &quot; +&#10;                    &quot;bl.blacklisted_by, bl.blacklist_date, bl.expiry_date, &quot; +&#10;                    &quot;bl.is_active, bl.notes, &quot; +&#10;                    &quot;c.first_name, c.last_name, c.email &quot; +&#10;                    &quot;FROM blacklisted_customers bl &quot; +&#10;                    &quot;JOIN customers c ON bl.customer_id = c.customer_id &quot; +&#10;                    &quot;WHERE bl.customer_id = ? ORDER BY bl.blacklist_date DESC&quot;;&#10;        &#10;        List&lt;BlacklistedCustomer&gt; blacklistRecords = new ArrayList&lt;&gt;();&#10;        &#10;        try (Connection conn = DatabaseConnection.getConnection();&#10;             PreparedStatement stmt = conn.prepareStatement(sql)) {&#10;            &#10;            stmt.setInt(1, customerId);&#10;            &#10;            try (ResultSet rs = stmt.executeQuery()) {&#10;                while (rs.next()) {&#10;                    blacklistRecords.add(mapResultSetToBlacklistedCustomer(rs));&#10;                }&#10;            }&#10;        }&#10;        return blacklistRecords;&#10;    }&#10;    &#10;    // Find all active blacklisted customers&#10;    public List&lt;BlacklistedCustomer&gt; findActiveBlacklistedCustomers() throws SQLException {&#10;        String sql = &quot;SELECT bl.blacklist_id, bl.customer_id, bl.blacklist_reason, &quot; +&#10;                    &quot;bl.blacklisted_by, bl.blacklist_date, bl.expiry_date, &quot; +&#10;                    &quot;bl.is_active, bl.notes, &quot; +&#10;                    &quot;c.first_name, c.last_name, c.email &quot; +&#10;                    &quot;FROM blacklisted_customers bl &quot; +&#10;                    &quot;JOIN customers c ON bl.customer_id = c.customer_id &quot; +&#10;                    &quot;WHERE bl.is_active = 'Y' &quot; +&#10;                    &quot;AND (bl.expiry_date IS NULL OR bl.expiry_date &gt; SYSDATE) &quot; +&#10;                    &quot;ORDER BY bl.blacklist_date DESC&quot;;&#10;        &#10;        List&lt;BlacklistedCustomer&gt; blacklistRecords = new ArrayList&lt;&gt;();&#10;        &#10;        try (Connection conn = DatabaseConnection.getConnection();&#10;             PreparedStatement stmt = conn.prepareStatement(sql);&#10;             ResultSet rs = stmt.executeQuery()) {&#10;            &#10;            while (rs.next()) {&#10;                blacklistRecords.add(mapResultSetToBlacklistedCustomer(rs));&#10;            }&#10;        }&#10;        return blacklistRecords;&#10;    }&#10;    &#10;    // Find all blacklisted customers (including inactive)&#10;    public List&lt;BlacklistedCustomer&gt; findAllBlacklistedCustomers() throws SQLException {&#10;        String sql = &quot;SELECT bl.blacklist_id, bl.customer_id, bl.blacklist_reason, &quot; +&#10;                    &quot;bl.blacklisted_by, bl.blacklist_date, bl.expiry_date, &quot; +&#10;                    &quot;bl.is_active, bl.notes, &quot; +&#10;                    &quot;c.first_name, c.last_name, c.email &quot; +&#10;                    &quot;FROM blacklisted_customers bl &quot; +&#10;                    &quot;JOIN customers c ON bl.customer_id = c.customer_id &quot; +&#10;                    &quot;ORDER BY bl.blacklist_date DESC&quot;;&#10;        &#10;        List&lt;BlacklistedCustomer&gt; blacklistRecords = new ArrayList&lt;&gt;();&#10;        &#10;        try (Connection conn = DatabaseConnection.getConnection();&#10;             PreparedStatement stmt = conn.prepareStatement(sql);&#10;             ResultSet rs = stmt.executeQuery()) {&#10;            &#10;            while (rs.next()) {&#10;                blacklistRecords.add(mapResultSetToBlacklistedCustomer(rs));&#10;            }&#10;        }&#10;        return blacklistRecords;&#10;    }&#10;    &#10;    // Find expired blacklist records&#10;    public List&lt;BlacklistedCustomer&gt; findExpiredBlacklistRecords() throws SQLException {&#10;        String sql = &quot;SELECT bl.blacklist_id, bl.customer_id, bl.blacklist_reason, &quot; +&#10;                    &quot;bl.blacklisted_by, bl.blacklist_date, bl.expiry_date, &quot; +&#10;                    &quot;bl.is_active, bl.notes, &quot; +&#10;                    &quot;c.first_name, c.last_name, c.email &quot; +&#10;                    &quot;FROM blacklisted_customers bl &quot; +&#10;                    &quot;JOIN customers c ON bl.customer_id = c.customer_id &quot; +&#10;                    &quot;WHERE bl.is_active = 'Y' &quot; +&#10;                    &quot;AND bl.expiry_date IS NOT NULL &quot; +&#10;                    &quot;AND bl.expiry_date &lt;= SYSDATE &quot; +&#10;                    &quot;ORDER BY bl.expiry_date&quot;;&#10;        &#10;        List&lt;BlacklistedCustomer&gt; expiredRecords = new ArrayList&lt;&gt;();&#10;        &#10;        try (Connection conn = DatabaseConnection.getConnection();&#10;             PreparedStatement stmt = conn.prepareStatement(sql);&#10;             ResultSet rs = stmt.executeQuery()) {&#10;            &#10;            while (rs.next()) {&#10;                expiredRecords.add(mapResultSetToBlacklistedCustomer(rs));&#10;            }&#10;        }&#10;        return expiredRecords;&#10;    }&#10;    &#10;    // Search blacklisted customers by name or reason&#10;    public List&lt;BlacklistedCustomer&gt; searchBlacklistedCustomers(String searchTerm) throws SQLException {&#10;        String sql = &quot;SELECT bl.blacklist_id, bl.customer_id, bl.blacklist_reason, &quot; +&#10;                    &quot;bl.blacklisted_by, bl.blacklist_date, bl.expiry_date, &quot; +&#10;                    &quot;bl.is_active, bl.notes, &quot; +&#10;                    &quot;c.first_name, c.last_name, c.email &quot; +&#10;                    &quot;FROM blacklisted_customers bl &quot; +&#10;                    &quot;JOIN customers c ON bl.customer_id = c.customer_id &quot; +&#10;                    &quot;WHERE (UPPER(c.first_name) LIKE UPPER(?) &quot; +&#10;                    &quot;OR UPPER(c.last_name) LIKE UPPER(?) &quot; +&#10;                    &quot;OR UPPER(bl.blacklist_reason) LIKE UPPER(?)) &quot; +&#10;                    &quot;ORDER BY bl.blacklist_date DESC&quot;;&#10;        &#10;        List&lt;BlacklistedCustomer&gt; searchResults = new ArrayList&lt;&gt;();&#10;        String searchPattern = &quot;%&quot; + searchTerm + &quot;%&quot;;&#10;        &#10;        try (Connection conn = DatabaseConnection.getConnection();&#10;             PreparedStatement stmt = conn.prepareStatement(sql)) {&#10;            &#10;            stmt.setString(1, searchPattern);&#10;            stmt.setString(2, searchPattern);&#10;            stmt.setString(3, searchPattern);&#10;            &#10;            try (ResultSet rs = stmt.executeQuery()) {&#10;                while (rs.next()) {&#10;                    searchResults.add(mapResultSetToBlacklistedCustomer(rs));&#10;                }&#10;            }&#10;        }&#10;        return searchResults;&#10;    }&#10;    &#10;    // Update blacklist record&#10;    public void update(BlacklistedCustomer blacklistedCustomer) throws SQLException {&#10;        String sql = &quot;UPDATE blacklisted_customers SET blacklist_reason = ?, &quot; +&#10;                    &quot;expiry_date = ?, is_active = ?, notes = ? WHERE blacklist_id = ?&quot;;&#10;        &#10;        try (Connection conn = DatabaseConnection.getConnection();&#10;             PreparedStatement stmt = conn.prepareStatement(sql)) {&#10;            &#10;            stmt.setString(1, blacklistedCustomer.getBlacklistReason());&#10;            if (blacklistedCustomer.getExpiryDate() != null) {&#10;                stmt.setDate(2, new Date(blacklistedCustomer.getExpiryDate().getTime()));&#10;            } else {&#10;                stmt.setNull(2, Types.DATE);&#10;            }&#10;            stmt.setString(3, blacklistedCustomer.isActive() ? &quot;Y&quot; : &quot;N&quot;);&#10;            stmt.setString(4, blacklistedCustomer.getNotes());&#10;            stmt.setInt(5, blacklistedCustomer.getBlacklistId());&#10;            &#10;            stmt.executeUpdate();&#10;        }&#10;    }&#10;    &#10;    // Get blacklist statistics&#10;    public int getActiveBlacklistCount() throws SQLException {&#10;        String sql = &quot;SELECT COUNT(*) FROM blacklisted_customers &quot; +&#10;                    &quot;WHERE is_active = 'Y' &quot; +&#10;                    &quot;AND (expiry_date IS NULL OR expiry_date &gt; SYSDATE)&quot;;&#10;        &#10;        try (Connection conn = DatabaseConnection.getConnection();&#10;             PreparedStatement stmt = conn.prepareStatement(sql);&#10;             ResultSet rs = stmt.executeQuery()) {&#10;            &#10;            if (rs.next()) {&#10;                return rs.getInt(1);&#10;            }&#10;        }&#10;        return 0;&#10;    }&#10;    &#10;    // Get blacklist count by reason&#10;    public List&lt;String&gt; getBlacklistReasonStatistics() throws SQLException {&#10;        String sql = &quot;SELECT blacklist_reason, COUNT(*) as count &quot; +&#10;                    &quot;FROM blacklisted_customers &quot; +&#10;                    &quot;WHERE is_active = 'Y' &quot; +&#10;                    &quot;GROUP BY blacklist_reason &quot; +&#10;                    &quot;ORDER BY count DESC&quot;;&#10;        &#10;        List&lt;String&gt; statistics = new ArrayList&lt;&gt;();&#10;        &#10;        try (Connection conn = DatabaseConnection.getConnection();&#10;             PreparedStatement stmt = conn.prepareStatement(sql);&#10;             ResultSet rs = stmt.executeQuery()) {&#10;            &#10;            while (rs.next()) {&#10;                statistics.add(rs.getString(&quot;blacklist_reason&quot;) + &quot;: &quot; + rs.getInt(&quot;count&quot;));&#10;            }&#10;        }&#10;        return statistics;&#10;    }&#10;    &#10;    // Create a new blacklist record&#10;    public void create(int customerId, String reason, String blacklistedBy, Date expiryDate) throws SQLException {&#10;        blacklistCustomer(customerId, reason, blacklistedBy, expiryDate);&#10;    }&#10;    &#10;    // Remove a customer from the blacklist (soft delete)&#10;    public void remove(int customerId, String removedBy) throws SQLException {&#10;        String sql = &quot;UPDATE blacklisted_customers SET is_active = 'N', removed_by = ?, &quot; +&#10;                    &quot;removed_date = SYSDATE WHERE customer_id = ? AND is_active = 'Y'&quot;;&#10;        &#10;        try (Connection conn = DatabaseConnection.getConnection();&#10;             PreparedStatement pstmt = conn.prepareStatement(sql)) {&#10;            &#10;            pstmt.setString(1, removedBy);&#10;            pstmt.setInt(2, customerId);&#10;            &#10;            pstmt.executeUpdate();&#10;        }&#10;    }&#10;    &#10;    // Find all blacklisted customers (active only)&#10;    public List&lt;BlacklistedCustomer&gt; findAll() throws SQLException {&#10;        String sql = &quot;SELECT b.*, c.first_name, c.last_name, c.email, c.phone &quot; +&#10;                    &quot;FROM blacklisted_customers b &quot; +&#10;                    &quot;JOIN customers c ON b.customer_id = c.customer_id &quot; +&#10;                    &quot;WHERE b.is_active = 'Y'&quot;;&#10;        List&lt;BlacklistedCustomer&gt; blacklistedCustomers = new ArrayList&lt;&gt;();&#10;        &#10;        try (Connection conn = DatabaseConnection.getConnection();&#10;             PreparedStatement pstmt = conn.prepareStatement(sql);&#10;             ResultSet rs = pstmt.executeQuery()) {&#10;            &#10;            while (rs.next()) {&#10;                BlacklistedCustomer customer = mapResultSetToBlacklistedCustomer(rs);&#10;                customer.setCustomerEmail(rs.getString(&quot;email&quot;));&#10;                blacklistedCustomers.add(customer);&#10;            }&#10;        }&#10;        return blacklistedCustomers;&#10;    }&#10;    &#10;    // Helper method to map ResultSet to BlacklistedCustomer object&#10;    private BlacklistedCustomer mapResultSetToBlacklistedCustomer(ResultSet rs) throws SQLException {&#10;        BlacklistedCustomer blacklistedCustomer = new BlacklistedCustomer();&#10;        blacklistedCustomer.setBlacklistId(rs.getInt(&quot;blacklist_id&quot;));&#10;        blacklistedCustomer.setCustomerId(rs.getInt(&quot;customer_id&quot;));&#10;        blacklistedCustomer.setBlacklistReason(rs.getString(&quot;blacklist_reason&quot;));&#10;        blacklistedCustomer.setBlacklistedBy(rs.getString(&quot;blacklisted_by&quot;));&#10;        blacklistedCustomer.setBlacklistDate(rs.getTimestamp(&quot;blacklist_date&quot;));&#10;        blacklistedCustomer.setExpiryDate(rs.getTimestamp(&quot;expiry_date&quot;));&#10;        blacklistedCustomer.setActive(&quot;Y&quot;.equals(rs.getString(&quot;is_active&quot;)));&#10;        blacklistedCustomer.setNotes(rs.getString(&quot;notes&quot;));&#10;        return blacklistedCustomer;&#10;    }&#10;}&#10;" />
            </PendingDiffInfo>
          </value>
        </entry>
        <entry key="$PROJECT_DIR$/HotelRentalSystem/src/main/java/com/hotel/dao/BookingDAO.java">
          <value>
            <PendingDiffInfo>
              <option name="filePath" value="$PROJECT_DIR$/HotelRentalSystem/src/main/java/com/hotel/dao/BookingDAO.java" />
              <option name="originalContent" value="package com.hotel.dao;&#10;&#10;import com.hotel.model.Booking;&#10;import com.hotel.util.DatabaseConnection;&#10;import java.sql.*;&#10;import java.util.ArrayList;&#10;import java.util.Date;&#10;import java.util.List;&#10;&#10;public class BookingDAO {&#10;    public Booking create(Booking booking) throws SQLException {&#10;        String sql = &quot;INSERT INTO bookings (booking_id, customer_id, room_id, check_in_date, &quot; +&#10;                    &quot;check_out_date, booking_status, total_amount, discount_applied, &quot; +&#10;                    &quot;extra_charges, created_by) VALUES (booking_seq.NEXTVAL, ?, ?, ?, ?, ?, ?, ?, ?, ?)&quot;;&#10;        &#10;        Connection conn = null;&#10;        PreparedStatement pstmt = null;&#10;        ResultSet rs = null;&#10;        &#10;        try {&#10;            conn = DatabaseConnection.getConnection();&#10;            pstmt = conn.prepareStatement(sql, new String[]{&quot;booking_id&quot;});&#10;            &#10;            pstmt.setInt(1, booking.getCustomerId());&#10;            pstmt.setInt(2, booking.getRoomId());&#10;            pstmt.setDate(3, new java.sql.Date(booking.getCheckInDate().getTime()));&#10;            pstmt.setDate(4, new java.sql.Date(booking.getCheckOutDate().getTime()));&#10;            pstmt.setString(5, booking.getBookingStatus());&#10;            pstmt.setDouble(6, booking.getTotalAmount());&#10;            pstmt.setDouble(7, booking.getDiscountApplied());&#10;            pstmt.setDouble(8, booking.getExtraCharges());&#10;            pstmt.setString(9, booking.getCreatedBy());&#10;            &#10;            int rowsAffected = pstmt.executeUpdate();&#10;            &#10;            if (rowsAffected &gt; 0) {&#10;                rs = pstmt.getGeneratedKeys();&#10;                if (rs.next()) {&#10;                    booking.setBookingId(rs.getLong(1));&#10;                    return booking;&#10;                }&#10;            }&#10;            &#10;            return null;&#10;        } finally {&#10;            DatabaseConnection.closeResources(conn, pstmt, rs);&#10;        }&#10;    }&#10;&#10;    public Booking findById(int bookingId) throws SQLException {&#10;        String sql = &quot;SELECT * FROM bookings WHERE booking_id = ?&quot;;&#10;        &#10;        Connection conn = null;&#10;        PreparedStatement pstmt = null;&#10;        ResultSet rs = null;&#10;        &#10;        try {&#10;            conn = DatabaseConnection.getConnection();&#10;            pstmt = conn.prepareStatement(sql);&#10;            pstmt.setInt(1, bookingId);&#10;            &#10;            rs = pstmt.executeQuery();&#10;            &#10;            if (rs.next()) {&#10;                return mapResultSetToBooking(rs);&#10;            }&#10;            &#10;            return null;&#10;        } finally {&#10;            DatabaseConnection.closeResources(conn, pstmt, rs);&#10;        }&#10;    }&#10;&#10;    public List&lt;Booking&gt; findByCustomerId(int customerId) throws SQLException {&#10;        String sql = &quot;SELECT * FROM bookings WHERE customer_id = ? ORDER BY check_in_date DESC&quot;;&#10;        &#10;        Connection conn = null;&#10;        PreparedStatement pstmt = null;&#10;        ResultSet rs = null;&#10;        List&lt;Booking&gt; bookings = new ArrayList&lt;&gt;();&#10;        &#10;        try {&#10;            conn = DatabaseConnection.getConnection();&#10;            pstmt = conn.prepareStatement(sql);&#10;            pstmt.setInt(1, customerId);&#10;            &#10;            rs = pstmt.executeQuery();&#10;            &#10;            while (rs.next()) {&#10;                bookings.add(mapResultSetToBooking(rs));&#10;            }&#10;            &#10;            return bookings;&#10;        } finally {&#10;            DatabaseConnection.closeResources(conn, pstmt, rs);&#10;        }&#10;    }&#10;&#10;    public List&lt;Booking&gt; findByRoomIdAndDates(int roomId, Date startDate, Date endDate) throws SQLException {&#10;        String sql = &quot;SELECT * FROM bookings WHERE room_id = ? AND &quot; +&#10;                    &quot;((check_in_date BETWEEN ? AND ?) OR &quot; +&#10;                    &quot;(check_out_date BETWEEN ? AND ?) OR &quot; +&#10;                    &quot;(check_in_date &lt;= ? AND check_out_date &gt;= ?))&quot;;&#10;        &#10;        Connection conn = null;&#10;        PreparedStatement pstmt = null;&#10;        ResultSet rs = null;&#10;        List&lt;Booking&gt; bookings = new ArrayList&lt;&gt;();&#10;        &#10;        try {&#10;            conn = DatabaseConnection.getConnection();&#10;            pstmt = conn.prepareStatement(sql);&#10;            &#10;            pstmt.setInt(1, roomId);&#10;            pstmt.setDate(2, new java.sql.Date(startDate.getTime()));&#10;            pstmt.setDate(3, new java.sql.Date(endDate.getTime()));&#10;            pstmt.setDate(4, new java.sql.Date(startDate.getTime()));&#10;            pstmt.setDate(5, new java.sql.Date(endDate.getTime()));&#10;            pstmt.setDate(6, new java.sql.Date(startDate.getTime()));&#10;            pstmt.setDate(7, new java.sql.Date(endDate.getTime()));&#10;            &#10;            rs = pstmt.executeQuery();&#10;            &#10;            while (rs.next()) {&#10;                bookings.add(mapResultSetToBooking(rs));&#10;            }&#10;            &#10;            return bookings;&#10;        } finally {&#10;            DatabaseConnection.closeResources(conn, pstmt, rs);&#10;        }&#10;    }&#10;&#10;    public List&lt;Booking&gt; getCurrentBookings() throws SQLException {&#10;        String sql = &quot;SELECT * FROM bookings WHERE check_out_date &gt;= TRUNC(SYSDATE) &quot; +&#10;                    &quot;AND booking_status IN ('CONFIRMED', 'CHECKED_IN') &quot; +&#10;                    &quot;ORDER BY check_in_date&quot;;&#10;&#10;        Connection conn = null;&#10;        PreparedStatement pstmt = null;&#10;        ResultSet rs = null;&#10;        List&lt;Booking&gt; bookings = new ArrayList&lt;&gt;();&#10;        &#10;        try {&#10;            conn = DatabaseConnection.getConnection();&#10;            pstmt = conn.prepareStatement(sql);&#10;            rs = pstmt.executeQuery();&#10;            &#10;            while (rs.next()) {&#10;                bookings.add(mapResultSetToBooking(rs));&#10;            }&#10;            &#10;            return bookings;&#10;        } finally {&#10;            DatabaseConnection.closeResources(conn, pstmt, rs);&#10;        }&#10;    }&#10;&#10;    public List&lt;Booking&gt; getExpiredBookings() throws SQLException {&#10;        String sql = &quot;SELECT * FROM bookings WHERE check_out_date &lt; TRUNC(SYSDATE) &quot; +&#10;                    &quot;AND booking_status NOT IN ('COMPLETED', 'CANCELLED') &quot; +&#10;                    &quot;ORDER BY check_out_date DESC&quot;;&#10;        &#10;        Connection conn = null;&#10;        PreparedStatement pstmt = null;&#10;        ResultSet rs = null;&#10;        List&lt;Booking&gt; bookings = new ArrayList&lt;&gt;();&#10;        &#10;        try {&#10;            conn = DatabaseConnection.getConnection();&#10;            pstmt = conn.prepareStatement(sql);&#10;            rs = pstmt.executeQuery();&#10;            &#10;            while (rs.next()) {&#10;                bookings.add(mapResultSetToBooking(rs));&#10;            }&#10;            &#10;            return bookings;&#10;        } finally {&#10;            DatabaseConnection.closeResources(conn, pstmt, rs);&#10;        }&#10;    }&#10;&#10;    public void update(Booking booking) throws SQLException {&#10;        String sql = &quot;UPDATE bookings SET customer_id = ?, room_id = ?, check_in_date = ?, &quot; +&#10;                    &quot;check_out_date = ?, booking_status = ?, total_amount = ?, &quot; +&#10;                    &quot;discount_applied = ?, extra_charges = ? WHERE booking_id = ?&quot;;&#10;        &#10;        Connection conn = null;&#10;        PreparedStatement pstmt = null;&#10;        &#10;        try {&#10;            conn = DatabaseConnection.getConnection();&#10;            pstmt = conn.prepareStatement(sql);&#10;            &#10;            pstmt.setInt(1, booking.getCustomerId());&#10;            pstmt.setInt(2, booking.getRoomId());&#10;            pstmt.setDate(3, new java.sql.Date(booking.getCheckInDate().getTime()));&#10;            pstmt.setDate(4, new java.sql.Date(booking.getCheckOutDate().getTime()));&#10;            pstmt.setString(5, booking.getBookingStatus());&#10;            pstmt.setDouble(6, booking.getTotalAmount());&#10;            pstmt.setDouble(7, booking.getDiscountApplied());&#10;            pstmt.setDouble(8, booking.getExtraCharges());&#10;            pstmt.setLong(9, booking.getBookingId());&#10;            &#10;            pstmt.executeUpdate();&#10;        } finally {&#10;            DatabaseConnection.closeResources(conn, pstmt);&#10;        }&#10;    }&#10;&#10;    public void cancel(int bookingId) throws SQLException {&#10;        String sql = &quot;UPDATE bookings SET booking_status = 'CANCELLED' WHERE booking_id = ?&quot;;&#10;        &#10;        Connection conn = null;&#10;        PreparedStatement pstmt = null;&#10;        &#10;        try {&#10;            conn = DatabaseConnection.getConnection();&#10;            pstmt = conn.prepareStatement(sql);&#10;            pstmt.setInt(1, bookingId);&#10;            pstmt.executeUpdate();&#10;        } finally {&#10;            DatabaseConnection.closeResources(conn, pstmt);&#10;        }&#10;    }&#10;&#10;    public List&lt;Booking&gt; getAll() throws SQLException {&#10;        String sql = &quot;SELECT * FROM bookings ORDER BY booking_id DESC&quot;;&#10;        &#10;        Connection conn = null;&#10;        PreparedStatement pstmt = null;&#10;        ResultSet rs = null;&#10;        List&lt;Booking&gt; bookings = new ArrayList&lt;&gt;();&#10;        &#10;        try {&#10;            conn = DatabaseConnection.getConnection();&#10;            pstmt = conn.prepareStatement(sql);&#10;            rs = pstmt.executeQuery();&#10;            &#10;            while (rs.next()) {&#10;                bookings.add(mapResultSetToBooking(rs));&#10;            }&#10;            &#10;            return bookings;&#10;        } finally {&#10;            DatabaseConnection.closeResources(conn, pstmt, rs);&#10;        }&#10;    }&#10;&#10;    private Booking mapResultSetToBooking(ResultSet rs) throws SQLException {&#10;        Booking booking = new Booking();&#10;&#10;        booking.setBookingId(rs.getLong(&quot;booking_id&quot;));&#10;        booking.setCustomerId(rs.getInt(&quot;customer_id&quot;));&#10;        booking.setRoomId(rs.getInt(&quot;room_id&quot;));&#10;        booking.setCheckInDate(rs.getDate(&quot;check_in_date&quot;));&#10;        booking.setCheckOutDate(rs.getDate(&quot;check_out_date&quot;));&#10;        booking.setBookingStatus(rs.getString(&quot;booking_status&quot;));&#10;        booking.setTotalAmount(rs.getDouble(&quot;total_amount&quot;));&#10;        booking.setDiscountApplied(rs.getDouble(&quot;discount_applied&quot;));&#10;        booking.setExtraCharges(rs.getDouble(&quot;extra_charges&quot;));&#10;        booking.setCreatedDate(rs.getDate(&quot;created_date&quot;));&#10;        booking.setCreatedBy(rs.getString(&quot;created_by&quot;));&#10;&#10;        return booking;&#10;    }&#10;}&#10;" />
              <option name="updatedContent" value="package com.hotel.dao;&#13;&#10;&#13;&#10;import com.hotel.model.Booking;&#13;&#10;import com.hotel.util.DatabaseConnection;&#13;&#10;import java.sql.*;&#13;&#10;import java.util.ArrayList;&#13;&#10;import java.util.Date;&#13;&#10;import java.util.List;&#13;&#10;&#13;&#10;public class BookingDAO {&#13;&#10;    public Booking create(Booking booking) throws SQLException {&#13;&#10;        String sql = &quot;INSERT INTO bookings (booking_id, customer_id, room_id, check_in_date, &quot; +&#13;&#10;                    &quot;check_out_date, booking_status, total_amount, discount_applied, &quot; +&#13;&#10;                    &quot;extra_charges, created_by) VALUES (booking_seq.NEXTVAL, ?, ?, ?, ?, ?, ?, ?, ?, ?)&quot;;&#13;&#10;        &#13;&#10;        Connection conn = null;&#13;&#10;        PreparedStatement pstmt = null;&#13;&#10;        ResultSet rs = null;&#13;&#10;        &#13;&#10;        try {&#13;&#10;            conn = DatabaseConnection.getConnection();&#13;&#10;            pstmt = conn.prepareStatement(sql, new String[]{&quot;booking_id&quot;});&#13;&#10;            &#13;&#10;            pstmt.setInt(1, booking.getCustomerId());&#13;&#10;            pstmt.setInt(2, booking.getRoomId());&#13;&#10;            pstmt.setDate(3, new java.sql.Date(booking.getCheckInDate().getTime()));&#13;&#10;            pstmt.setDate(4, new java.sql.Date(booking.getCheckOutDate().getTime()));&#13;&#10;            pstmt.setString(5, booking.getBookingStatus());&#13;&#10;            pstmt.setDouble(6, booking.getTotalAmount());&#13;&#10;            pstmt.setDouble(7, booking.getDiscountApplied());&#13;&#10;            pstmt.setDouble(8, booking.getExtraCharges());&#13;&#10;            pstmt.setString(9, booking.getCreatedBy());&#13;&#10;            &#13;&#10;            int rowsAffected = pstmt.executeUpdate();&#13;&#10;            &#13;&#10;            if (rowsAffected &gt; 0) {&#13;&#10;                rs = pstmt.getGeneratedKeys();&#13;&#10;                if (rs.next()) {&#13;&#10;                    booking.setBookingId(rs.getLong(1));&#13;&#10;                    return booking;&#13;&#10;                }&#13;&#10;            }&#13;&#10;            &#13;&#10;            return null;&#13;&#10;        } finally {&#13;&#10;            DatabaseConnection.closeResources(conn, pstmt, rs);&#13;&#10;        }&#13;&#10;    }&#13;&#10;&#13;&#10;    public Booking findById(int bookingId) throws SQLException {&#13;&#10;        String sql = &quot;SELECT * FROM bookings WHERE booking_id = ?&quot;;&#13;&#10;        &#13;&#10;        Connection conn = null;&#13;&#10;        PreparedStatement pstmt = null;&#13;&#10;        ResultSet rs = null;&#13;&#10;        &#13;&#10;        try {&#13;&#10;            conn = DatabaseConnection.getConnection();&#13;&#10;            pstmt = conn.prepareStatement(sql);&#13;&#10;            pstmt.setInt(1, bookingId);&#13;&#10;            &#13;&#10;            rs = pstmt.executeQuery();&#13;&#10;            &#13;&#10;            if (rs.next()) {&#13;&#10;                return mapResultSetToBooking(rs);&#13;&#10;            }&#13;&#10;            &#13;&#10;            return null;&#13;&#10;        } finally {&#13;&#10;            DatabaseConnection.closeResources(conn, pstmt, rs);&#13;&#10;        }&#13;&#10;    }&#13;&#10;&#13;&#10;    public List&lt;Booking&gt; findByCustomerId(int customerId) throws SQLException {&#13;&#10;        String sql = &quot;SELECT * FROM bookings WHERE customer_id = ? ORDER BY check_in_date DESC&quot;;&#13;&#10;        &#13;&#10;        Connection conn = null;&#13;&#10;        PreparedStatement pstmt = null;&#13;&#10;        ResultSet rs = null;&#13;&#10;        List&lt;Booking&gt; bookings = new ArrayList&lt;&gt;();&#13;&#10;        &#13;&#10;        try {&#13;&#10;            conn = DatabaseConnection.getConnection();&#13;&#10;            pstmt = conn.prepareStatement(sql);&#13;&#10;            pstmt.setInt(1, customerId);&#13;&#10;            &#13;&#10;            rs = pstmt.executeQuery();&#13;&#10;            &#13;&#10;            while (rs.next()) {&#13;&#10;                bookings.add(mapResultSetToBooking(rs));&#13;&#10;            }&#13;&#10;            &#13;&#10;            return bookings;&#13;&#10;        } finally {&#13;&#10;            DatabaseConnection.closeResources(conn, pstmt, rs);&#13;&#10;        }&#13;&#10;    }&#13;&#10;&#13;&#10;    public List&lt;Booking&gt; findByRoomIdAndDates(int roomId, Date startDate, Date endDate) throws SQLException {&#13;&#10;        String sql = &quot;SELECT * FROM bookings WHERE room_id = ? AND &quot; +&#13;&#10;                    &quot;((check_in_date BETWEEN ? AND ?) OR &quot; +&#13;&#10;                    &quot;(check_out_date BETWEEN ? AND ?) OR &quot; +&#13;&#10;                    &quot;(check_in_date &lt;= ? AND check_out_date &gt;= ?))&quot;;&#13;&#10;        &#13;&#10;        Connection conn = null;&#13;&#10;        PreparedStatement pstmt = null;&#13;&#10;        ResultSet rs = null;&#13;&#10;        List&lt;Booking&gt; bookings = new ArrayList&lt;&gt;();&#13;&#10;        &#13;&#10;        try {&#13;&#10;            conn = DatabaseConnection.getConnection();&#13;&#10;            pstmt = conn.prepareStatement(sql);&#13;&#10;            &#13;&#10;            pstmt.setInt(1, roomId);&#13;&#10;            pstmt.setDate(2, new java.sql.Date(startDate.getTime()));&#13;&#10;            pstmt.setDate(3, new java.sql.Date(endDate.getTime()));&#13;&#10;            pstmt.setDate(4, new java.sql.Date(startDate.getTime()));&#13;&#10;            pstmt.setDate(5, new java.sql.Date(endDate.getTime()));&#13;&#10;            pstmt.setDate(6, new java.sql.Date(startDate.getTime()));&#13;&#10;            pstmt.setDate(7, new java.sql.Date(endDate.getTime()));&#13;&#10;            &#13;&#10;            rs = pstmt.executeQuery();&#13;&#10;            &#13;&#10;            while (rs.next()) {&#13;&#10;                bookings.add(mapResultSetToBooking(rs));&#13;&#10;            }&#13;&#10;            &#13;&#10;            return bookings;&#13;&#10;        } finally {&#13;&#10;            DatabaseConnection.closeResources(conn, pstmt, rs);&#13;&#10;        }&#13;&#10;    }&#13;&#10;&#13;&#10;    public List&lt;Booking&gt; getCurrentBookings() throws SQLException {&#13;&#10;        String sql = &quot;SELECT b.*, c.first_name, c.last_name, c.email, &quot; +&#13;&#10;                    &quot;r.room_number, r.room_type_id, rt.type_name &quot; +&#13;&#10;                    &quot;FROM bookings b &quot; +&#13;&#10;                    &quot;JOIN customers c ON b.customer_id = c.customer_id &quot; +&#13;&#10;                    &quot;JOIN rooms r ON b.room_id = r.room_id &quot; +&#13;&#10;                    &quot;JOIN room_types rt ON r.room_type_id = rt.room_type_id &quot; +&#13;&#10;                    &quot;WHERE b.booking_status IN ('CONFIRMED', 'CHECKED_IN') &quot; +&#13;&#10;                    &quot;AND b.check_out_date &gt;= SYSDATE&quot;;&#13;&#10;&#13;&#10;        Connection conn = null;&#13;&#10;        PreparedStatement pstmt = null;&#13;&#10;        ResultSet rs = null;&#13;&#10;        List&lt;Booking&gt; bookings = new ArrayList&lt;&gt;();&#13;&#10;        &#13;&#10;        try {&#13;&#10;            conn = DatabaseConnection.getConnection();&#13;&#10;            pstmt = conn.prepareStatement(sql);&#13;&#10;            rs = pstmt.executeQuery();&#13;&#10;            &#13;&#10;            while (rs.next()) {&#13;&#10;                bookings.add(mapResultSetToBooking(rs));&#13;&#10;            }&#13;&#10;            &#13;&#10;            return bookings;&#13;&#10;        } finally {&#13;&#10;            DatabaseConnection.closeResources(conn, pstmt, rs);&#13;&#10;        }&#13;&#10;    }&#13;&#10;&#13;&#10;    public List&lt;Booking&gt; getExpiredBookings() throws SQLException {&#13;&#10;        String sql = &quot;SELECT * FROM bookings WHERE check_out_date &lt; TRUNC(SYSDATE) &quot; +&#13;&#10;                    &quot;AND booking_status NOT IN ('COMPLETED', 'CANCELLED') &quot; +&#13;&#10;                    &quot;ORDER BY check_out_date DESC&quot;;&#13;&#10;        &#13;&#10;        Connection conn = null;&#13;&#10;        PreparedStatement pstmt = null;&#13;&#10;        ResultSet rs = null;&#13;&#10;        List&lt;Booking&gt; bookings = new ArrayList&lt;&gt;();&#13;&#10;        &#13;&#10;        try {&#13;&#10;            conn = DatabaseConnection.getConnection();&#13;&#10;            pstmt = conn.prepareStatement(sql);&#13;&#10;            rs = pstmt.executeQuery();&#13;&#10;            &#13;&#10;            while (rs.next()) {&#13;&#10;                bookings.add(mapResultSetToBooking(rs));&#13;&#10;            }&#13;&#10;            &#13;&#10;            return bookings;&#13;&#10;        } finally {&#13;&#10;            DatabaseConnection.closeResources(conn, pstmt, rs);&#13;&#10;        }&#13;&#10;    }&#13;&#10;&#13;&#10;    public void update(Booking booking) throws SQLException {&#13;&#10;        String sql = &quot;UPDATE bookings SET customer_id = ?, room_id = ?, check_in_date = ?, &quot; +&#13;&#10;                    &quot;check_out_date = ?, booking_status = ?, total_amount = ?, &quot; +&#13;&#10;                    &quot;discount_applied = ?, extra_charges = ? WHERE booking_id = ?&quot;;&#13;&#10;        &#13;&#10;        Connection conn = null;&#13;&#10;        PreparedStatement pstmt = null;&#13;&#10;        &#13;&#10;        try {&#13;&#10;            conn = DatabaseConnection.getConnection();&#13;&#10;            pstmt = conn.prepareStatement(sql);&#13;&#10;            &#13;&#10;            pstmt.setInt(1, booking.getCustomerId());&#13;&#10;            pstmt.setInt(2, booking.getRoomId());&#13;&#10;            pstmt.setDate(3, new java.sql.Date(booking.getCheckInDate().getTime()));&#13;&#10;            pstmt.setDate(4, new java.sql.Date(booking.getCheckOutDate().getTime()));&#13;&#10;            pstmt.setString(5, booking.getBookingStatus());&#13;&#10;            pstmt.setDouble(6, booking.getTotalAmount());&#13;&#10;            pstmt.setDouble(7, booking.getDiscountApplied());&#13;&#10;            pstmt.setDouble(8, booking.getExtraCharges());&#13;&#10;            pstmt.setLong(9, booking.getBookingId());&#13;&#10;            &#13;&#10;            pstmt.executeUpdate();&#13;&#10;        } finally {&#13;&#10;            DatabaseConnection.closeResources(conn, pstmt);&#13;&#10;        }&#13;&#10;    }&#13;&#10;&#13;&#10;    public void cancel(int bookingId) throws SQLException {&#13;&#10;        String sql = &quot;UPDATE bookings SET booking_status = 'CANCELLED' WHERE booking_id = ?&quot;;&#13;&#10;        &#13;&#10;        Connection conn = null;&#13;&#10;        PreparedStatement pstmt = null;&#13;&#10;        &#13;&#10;        try {&#13;&#10;            conn = DatabaseConnection.getConnection();&#13;&#10;            pstmt = conn.prepareStatement(sql);&#13;&#10;            pstmt.setInt(1, bookingId);&#13;&#10;            pstmt.executeUpdate();&#13;&#10;        } finally {&#13;&#10;            DatabaseConnection.closeResources(conn, pstmt);&#13;&#10;        }&#13;&#10;    }&#13;&#10;&#13;&#10;    public List&lt;Booking&gt; getAll() throws SQLException {&#13;&#10;        String sql = &quot;SELECT * FROM bookings ORDER BY booking_id DESC&quot;;&#13;&#10;        &#13;&#10;        Connection conn = null;&#13;&#10;        PreparedStatement pstmt = null;&#13;&#10;        ResultSet rs = null;&#13;&#10;        List&lt;Booking&gt; bookings = new ArrayList&lt;&gt;();&#13;&#10;        &#13;&#10;        try {&#13;&#10;            conn = DatabaseConnection.getConnection();&#13;&#10;            pstmt = conn.prepareStatement(sql);&#13;&#10;            rs = pstmt.executeQuery();&#13;&#10;            &#13;&#10;            while (rs.next()) {&#13;&#10;                bookings.add(mapResultSetToBooking(rs));&#13;&#10;            }&#13;&#10;            &#13;&#10;            return bookings;&#13;&#10;        } finally {&#13;&#10;            DatabaseConnection.closeResources(conn, pstmt, rs);&#13;&#10;        }&#13;&#10;    }&#13;&#10;&#13;&#10;    public Booking getBookingById(int bookingId) throws SQLException {&#13;&#10;        String sql = &quot;SELECT b.*, c.first_name, c.last_name, c.email, &quot; +&#13;&#10;                    &quot;r.room_number, r.room_type_id, rt.type_name &quot; +&#13;&#10;                    &quot;FROM bookings b &quot; +&#13;&#10;                    &quot;JOIN customers c ON b.customer_id = c.customer_id &quot; +&#13;&#10;                    &quot;JOIN rooms r ON b.room_id = r.room_id &quot; +&#13;&#10;                    &quot;JOIN room_types rt ON r.room_type_id = rt.room_type_id &quot; +&#13;&#10;                    &quot;WHERE b.booking_id = ?&quot;;&#13;&#10;&#13;&#10;        try (Connection conn = DatabaseConnection.getConnection();&#13;&#10;             PreparedStatement pstmt = conn.prepareStatement(sql)) {&#13;&#10;&#13;&#10;            pstmt.setInt(1, bookingId);&#13;&#10;&#13;&#10;            try (ResultSet rs = pstmt.executeQuery()) {&#13;&#10;                if (rs.next()) {&#13;&#10;                    return mapResultSetToBooking(rs);&#13;&#10;                }&#13;&#10;            }&#13;&#10;        }&#13;&#10;        return null;&#13;&#10;    }&#13;&#10;&#13;&#10;    public List&lt;Booking&gt; getBookingsByDateRange(Date startDate, Date endDate) throws SQLException {&#13;&#10;        String sql = &quot;SELECT b.*, c.first_name, c.last_name, c.email, &quot; +&#13;&#10;                    &quot;r.room_number, r.room_type_id, rt.type_name &quot; +&#13;&#10;                    &quot;FROM bookings b &quot; +&#13;&#10;                    &quot;JOIN customers c ON b.customer_id = c.customer_id &quot; +&#13;&#10;                    &quot;JOIN rooms r ON b.room_id = r.room_id &quot; +&#13;&#10;                    &quot;JOIN room_types rt ON r.room_type_id = rt.room_type_id &quot; +&#13;&#10;                    &quot;WHERE b.check_in_date &lt;= ? AND b.check_out_date &gt;= ?&quot;;&#13;&#10;&#13;&#10;        List&lt;Booking&gt; bookings = new ArrayList&lt;&gt;();&#13;&#10;&#13;&#10;        try (Connection conn = DatabaseConnection.getConnection();&#13;&#10;             PreparedStatement pstmt = conn.prepareStatement(sql)) {&#13;&#10;&#13;&#10;            pstmt.setDate(1, new java.sql.Date(endDate.getTime()));&#13;&#10;            pstmt.setDate(2, new java.sql.Date(startDate.getTime()));&#13;&#10;&#13;&#10;            try (ResultSet rs = pstmt.executeQuery()) {&#13;&#10;                while (rs.next()) {&#13;&#10;                    bookings.add(mapResultSetToBooking(rs));&#13;&#10;                }&#13;&#10;            }&#13;&#10;        }&#13;&#10;        return bookings;&#13;&#10;    }&#13;&#10;&#13;&#10;    public boolean checkInCustomer(int bookingId) throws SQLException {&#13;&#10;        String sql = &quot;UPDATE bookings SET booking_status = 'CHECKED_IN', &quot; +&#13;&#10;                    &quot;actual_check_in = SYSDATE WHERE booking_id = ? &quot; +&#13;&#10;                    &quot;AND booking_status = 'CONFIRMED'&quot;;&#13;&#10;&#13;&#10;        try (Connection conn = DatabaseConnection.getConnection();&#13;&#10;             PreparedStatement pstmt = conn.prepareStatement(sql)) {&#13;&#10;&#13;&#10;            pstmt.setInt(1, bookingId);&#13;&#10;            return pstmt.executeUpdate() &gt; 0;&#13;&#10;        }&#13;&#10;    }&#13;&#10;&#13;&#10;    public boolean checkOutCustomer(int bookingId) throws SQLException {&#13;&#10;        String sql = &quot;UPDATE bookings SET booking_status = 'COMPLETED', &quot; +&#13;&#10;                    &quot;actual_check_out = SYSDATE WHERE booking_id = ? &quot; +&#13;&#10;                    &quot;AND booking_status = 'CHECKED_IN'&quot;;&#13;&#10;&#13;&#10;        try (Connection conn = DatabaseConnection.getConnection();&#13;&#10;             PreparedStatement pstmt = conn.prepareStatement(sql)) {&#13;&#10;&#13;&#10;            pstmt.setInt(1, bookingId);&#13;&#10;            return pstmt.executeUpdate() &gt; 0;&#13;&#10;        }&#13;&#10;    }&#13;&#10;&#13;&#10;    public List&lt;Booking&gt; findByDateRange(Date startDate, Date endDate) throws SQLException {&#13;&#10;        String sql = &quot;SELECT * FROM bookings WHERE check_in_date BETWEEN ? AND ? OR check_out_date BETWEEN ? AND ?&quot;;&#13;&#10;        List&lt;Booking&gt; bookings = new ArrayList&lt;&gt;();&#13;&#10;        &#13;&#10;        try (Connection conn = DatabaseConnection.getConnection();&#13;&#10;             PreparedStatement pstmt = conn.prepareStatement(sql)) {&#13;&#10;            &#13;&#10;            pstmt.setDate(1, new java.sql.Date(startDate.getTime()));&#13;&#10;            pstmt.setDate(2, new java.sql.Date(endDate.getTime()));&#13;&#10;            pstmt.setDate(3, new java.sql.Date(startDate.getTime()));&#13;&#10;            pstmt.setDate(4, new java.sql.Date(endDate.getTime()));&#13;&#10;            &#13;&#10;            try (ResultSet rs = pstmt.executeQuery()) {&#13;&#10;                while (rs.next()) {&#13;&#10;                    bookings.add(mapResultSetToBooking(rs));&#13;&#10;                }&#13;&#10;            }&#13;&#10;        }&#13;&#10;        return bookings;&#13;&#10;    }&#13;&#10;&#13;&#10;    private Booking mapResultSetToBooking(ResultSet rs) throws SQLException {&#13;&#10;        Booking booking = new Booking();&#13;&#10;        booking.setBookingId(rs.getLong(&quot;booking_id&quot;));&#13;&#10;        booking.setCustomerId(rs.getInt(&quot;customer_id&quot;));&#13;&#10;        booking.setRoomId(rs.getInt(&quot;room_id&quot;));&#13;&#10;        booking.setCheckInDate(rs.getDate(&quot;check_in_date&quot;));&#13;&#10;        booking.setCheckOutDate(rs.getDate(&quot;check_out_date&quot;));&#13;&#10;        booking.setBookingStatus(rs.getString(&quot;booking_status&quot;));&#13;&#10;        booking.setTotalAmount(rs.getDouble(&quot;total_amount&quot;));&#13;&#10;        booking.setDiscountApplied(rs.getDouble(&quot;discount_applied&quot;));&#13;&#10;        booking.setExtraCharges(rs.getDouble(&quot;extra_charges&quot;));&#13;&#10;        booking.setCreatedDate(rs.getDate(&quot;created_date&quot;));&#13;&#10;        booking.setCreatedBy(rs.getString(&quot;created_by&quot;));&#13;&#10;        return booking;&#13;&#10;    }&#13;&#10;}" />
            </PendingDiffInfo>
          </value>
        </entry>
        <entry key="$PROJECT_DIR$/HotelRentalSystem/src/main/java/com/hotel/dao/CustomerDAO.java">
          <value>
            <PendingDiffInfo>
              <option name="filePath" value="$PROJECT_DIR$/HotelRentalSystem/src/main/java/com/hotel/dao/CustomerDAO.java" />
              <option name="originalContent" value="package com.hotel.dao;&#10;&#10;import com.hotel.model.Customer;&#10;import com.hotel.util.DatabaseConnection;&#10;&#10;import java.sql.*;&#10;import java.util.ArrayList;&#10;import java.util.List;&#10;&#10;/**&#10; * Data Access Object for Customer operations&#10; */&#10;public class CustomerDAO {&#10;    &#10;    /**&#10;     * Create a new customer&#10;     */&#10;    public int createCustomer(Customer customer) throws SQLException {&#10;        String sql = &quot;INSERT INTO customers (customer_id, first_name, last_name, email, phone, &quot; +&#10;                    &quot;address, date_of_birth, total_spent, loyalty_points) &quot; +&#10;                    &quot;VALUES (customer_seq.NEXTVAL, ?, ?, ?, ?, ?, ?, ?, ?)&quot;;&#10;        &#10;        Connection conn = null;&#10;        PreparedStatement pstmt = null;&#10;        ResultSet rs = null;&#10;        &#10;        try {&#10;            conn = DatabaseConnection.getConnection();&#10;            pstmt = conn.prepareStatement(sql, new String[]{&quot;customer_id&quot;});&#10;            &#10;            pstmt.setString(1, customer.getFirstName());&#10;            pstmt.setString(2, customer.getLastName());&#10;            pstmt.setString(3, customer.getEmail());&#10;            pstmt.setString(4, customer.getPhone());&#10;            pstmt.setString(5, customer.getAddress());&#10;            &#10;            if (customer.getDateOfBirth() != null) {&#10;                pstmt.setDate(6, new Date(customer.getDateOfBirth().getTime()));&#10;            } else {&#10;                pstmt.setNull(6, Types.DATE);&#10;            }&#10;            &#10;            pstmt.setDouble(7, customer.getTotalSpent());&#10;            pstmt.setInt(8, customer.getLoyaltyPoints());&#10;            &#10;            int rowsAffected = pstmt.executeUpdate();&#10;            &#10;            if (rowsAffected &gt; 0) {&#10;                rs = pstmt.getGeneratedKeys();&#10;                if (rs.next()) {&#10;                    int customerId = rs.getInt(1);&#10;                    customer.setCustomerId(customerId);&#10;                    return customerId;&#10;                }&#10;            }&#10;            &#10;            return 0;&#10;&#10;        } finally {&#10;            DatabaseConnection.closeResources(conn, pstmt, rs);&#10;        }&#10;    }&#10;    &#10;    /**&#10;     * Find customer by ID&#10;     */&#10;    public Customer findById(int customerId) throws SQLException {&#10;        String sql = &quot;SELECT customer_id, first_name, last_name, email, phone, address, &quot; +&#10;                    &quot;date_of_birth, total_spent, registration_date, is_active, loyalty_points &quot; +&#10;                    &quot;FROM customers WHERE customer_id = ?&quot;;&#10;        &#10;        Connection conn = null;&#10;        PreparedStatement pstmt = null;&#10;        ResultSet rs = null;&#10;        &#10;        try {&#10;            conn = DatabaseConnection.getConnection();&#10;            pstmt = conn.prepareStatement(sql);&#10;            pstmt.setInt(1, customerId);&#10;            &#10;            rs = pstmt.executeQuery();&#10;            &#10;            if (rs.next()) {&#10;                return mapResultSetToCustomer(rs);&#10;            }&#10;            &#10;            return null;&#10;            &#10;        } finally {&#10;            DatabaseConnection.closeResources(conn, pstmt, rs);&#10;        }&#10;    }&#10;    &#10;    /**&#10;     * Find customer by email&#10;     */&#10;    public Customer findByEmail(String email) throws SQLException {&#10;        String sql = &quot;SELECT customer_id, first_name, last_name, email, phone, address, &quot; +&#10;                    &quot;date_of_birth, total_spent, registration_date, is_active, loyalty_points &quot; +&#10;                    &quot;FROM customers WHERE email = ?&quot;;&#10;        &#10;        Connection conn = null;&#10;        PreparedStatement pstmt = null;&#10;        ResultSet rs = null;&#10;        &#10;        try {&#10;            conn = DatabaseConnection.getConnection();&#10;            pstmt = conn.prepareStatement(sql);&#10;            pstmt.setString(1, email);&#10;            &#10;            rs = pstmt.executeQuery();&#10;            &#10;            if (rs.next()) {&#10;                return mapResultSetToCustomer(rs);&#10;            }&#10;            &#10;            return null;&#10;            &#10;        } finally {&#10;            DatabaseConnection.closeResources(conn, pstmt, rs);&#10;        }&#10;    }&#10;    &#10;    /**&#10;     * Get all customers&#10;     */&#10;    public List&lt;Customer&gt; findAll() throws SQLException {&#10;        String sql = &quot;SELECT customer_id, first_name, last_name, email, phone, address, &quot; +&#10;                    &quot;date_of_birth, total_spent, registration_date, is_active, loyalty_points &quot; +&#10;                    &quot;FROM customers WHERE is_active = 'Y' ORDER BY registration_date DESC&quot;;&#10;        &#10;        Connection conn = null;&#10;        PreparedStatement pstmt = null;&#10;        ResultSet rs = null;&#10;        List&lt;Customer&gt; customers = new ArrayList&lt;&gt;();&#10;        &#10;        try {&#10;            conn = DatabaseConnection.getConnection();&#10;            pstmt = conn.prepareStatement(sql);&#10;            rs = pstmt.executeQuery();&#10;            &#10;            while (rs.next()) {&#10;                customers.add(mapResultSetToCustomer(rs));&#10;            }&#10;            &#10;            return customers;&#10;            &#10;        } finally {&#10;            DatabaseConnection.closeResources(conn, pstmt, rs);&#10;        }&#10;    }&#10;    &#10;    /**&#10;     * Update customer information&#10;     */&#10;    public boolean updateCustomer(Customer customer) throws SQLException {&#10;        String sql = &quot;UPDATE customers SET first_name = ?, last_name = ?, email = ?, &quot; +&#10;                    &quot;phone = ?, address = ?, date_of_birth = ?, total_spent = ?, loyalty_points = ? &quot; +&#10;                    &quot;WHERE customer_id = ?&quot;;&#10;        &#10;        Connection conn = null;&#10;        PreparedStatement pstmt = null;&#10;        &#10;        try {&#10;            conn = DatabaseConnection.getConnection();&#10;            pstmt = conn.prepareStatement(sql);&#10;            &#10;            pstmt.setString(1, customer.getFirstName());&#10;            pstmt.setString(2, customer.getLastName());&#10;            pstmt.setString(3, customer.getEmail());&#10;            pstmt.setString(4, customer.getPhone());&#10;            pstmt.setString(5, customer.getAddress());&#10;            &#10;            if (customer.getDateOfBirth() != null) {&#10;                pstmt.setDate(6, new Date(customer.getDateOfBirth().getTime()));&#10;            } else {&#10;                pstmt.setNull(6, Types.DATE);&#10;            }&#10;            &#10;            pstmt.setDouble(7, customer.getTotalSpent());&#10;            pstmt.setInt(8, customer.getLoyaltyPoints());&#10;            pstmt.setInt(9, customer.getCustomerId());&#10;            &#10;            int rowsAffected = pstmt.executeUpdate();&#10;            return rowsAffected &gt; 0;&#10;&#10;        } finally {&#10;            DatabaseConnection.closeResources(conn, pstmt);&#10;        }&#10;    }&#10;    &#10;    /**&#10;     * Delete customer (soft delete - set inactive)&#10;     */&#10;    public boolean deleteCustomer(int customerId) throws SQLException {&#10;        String sql = &quot;UPDATE customers SET is_active = 'N' WHERE customer_id = ?&quot;;&#10;        &#10;        Connection conn = null;&#10;        PreparedStatement pstmt = null;&#10;        &#10;        try {&#10;            conn = DatabaseConnection.getConnection();&#10;            pstmt = conn.prepareStatement(sql);&#10;            pstmt.setInt(1, customerId);&#10;            &#10;            int rowsAffected = pstmt.executeUpdate();&#10;            return rowsAffected &gt; 0;&#10;            &#10;        } finally {&#10;            DatabaseConnection.closeResources(conn, pstmt);&#10;        }&#10;    }&#10;    &#10;    /**&#10;     * Search customers by name or email&#10;     */&#10;    public List&lt;Customer&gt; searchCustomers(String searchTerm) throws SQLException {&#10;        String sql = &quot;SELECT customer_id, first_name, last_name, email, phone, address, &quot; +&#10;                    &quot;date_of_birth, total_spent, registration_date, is_active, loyalty_points &quot; +&#10;                    &quot;FROM customers WHERE is_active = 'Y' AND &quot; +&#10;                    &quot;(UPPER(first_name) LIKE UPPER(?) OR UPPER(last_name) LIKE UPPER(?) OR &quot; +&#10;                    &quot;UPPER(email) LIKE UPPER(?) OR phone LIKE ?) &quot; +&#10;                    &quot;ORDER BY total_spent DESC&quot;;&#10;        &#10;        Connection conn = null;&#10;        PreparedStatement pstmt = null;&#10;        ResultSet rs = null;&#10;        List&lt;Customer&gt; customers = new ArrayList&lt;&gt;();&#10;        &#10;        try {&#10;            conn = DatabaseConnection.getConnection();&#10;            pstmt = conn.prepareStatement(sql);&#10;            &#10;            String searchPattern = &quot;%&quot; + searchTerm + &quot;%&quot;;&#10;            pstmt.setString(1, searchPattern);&#10;            pstmt.setString(2, searchPattern);&#10;            pstmt.setString(3, searchPattern);&#10;            pstmt.setString(4, searchPattern);&#10;            &#10;            rs = pstmt.executeQuery();&#10;            &#10;            while (rs.next()) {&#10;                customers.add(mapResultSetToCustomer(rs));&#10;            }&#10;            &#10;            return customers;&#10;            &#10;        } finally {&#10;            DatabaseConnection.closeResources(conn, pstmt, rs);&#10;        }&#10;    }&#10;    &#10;    /**&#10;     * Get customers eligible for VIP membership&#10;     */&#10;    public List&lt;Customer&gt; getVIPEligibleCustomers(double spendingThreshold) throws SQLException {&#10;        String sql = &quot;SELECT c.customer_id, c.first_name, c.last_name, c.email, c.phone, &quot; +&#10;                    &quot;c.address, c.date_of_birth, c.total_spent, c.registration_date, &quot; +&#10;                    &quot;c.is_active, c.loyalty_points &quot; +&#10;                    &quot;FROM customers c &quot; +&#10;                    &quot;LEFT JOIN vip_members vm ON c.customer_id = vm.customer_id AND vm.is_active = 'Y' &quot; +&#10;                    &quot;WHERE c.is_active = 'Y' AND c.total_spent &gt;= ? AND vm.customer_id IS NULL &quot; +&#10;                    &quot;ORDER BY c.total_spent DESC&quot;;&#10;        &#10;        Connection conn = null;&#10;        PreparedStatement pstmt = null;&#10;        ResultSet rs = null;&#10;        List&lt;Customer&gt; customers = new ArrayList&lt;&gt;();&#10;        &#10;        try {&#10;            conn = DatabaseConnection.getConnection();&#10;            pstmt = conn.prepareStatement(sql);&#10;            pstmt.setDouble(1, spendingThreshold);&#10;            &#10;            rs = pstmt.executeQuery();&#10;            &#10;            while (rs.next()) {&#10;                customers.add(mapResultSetToCustomer(rs));&#10;            }&#10;            &#10;            return customers;&#10;            &#10;        } finally {&#10;            DatabaseConnection.closeResources(conn, pstmt, rs);&#10;        }&#10;    }&#10;    &#10;    /**&#10;     * Get customer discount using Oracle function&#10;     */&#10;    public double getCustomerDiscount(int customerId) throws SQLException {&#10;        String sql = &quot;{? = call calculate_customer_discount(?)}&quot;;&#10;        &#10;        Connection conn = null;&#10;        CallableStatement cstmt = null;&#10;        &#10;        try {&#10;            conn = DatabaseConnection.getConnection();&#10;            cstmt = conn.prepareCall(sql);&#10;            &#10;            cstmt.registerOutParameter(1, Types.NUMERIC);&#10;            cstmt.setInt(2, customerId);&#10;            &#10;            cstmt.execute();&#10;            &#10;            return cstmt.getDouble(1);&#10;            &#10;        } finally {&#10;            DatabaseConnection.closeResources(conn, cstmt);&#10;        }&#10;    }&#10;    &#10;    /**&#10;     * Map ResultSet to Customer object&#10;     */&#10;    private Customer mapResultSetToCustomer(ResultSet rs) throws SQLException {&#10;        Customer customer = new Customer();&#10;        &#10;        customer.setCustomerId(rs.getInt(&quot;customer_id&quot;));&#10;        customer.setFirstName(rs.getString(&quot;first_name&quot;));&#10;        customer.setLastName(rs.getString(&quot;last_name&quot;));&#10;        customer.setEmail(rs.getString(&quot;email&quot;));&#10;        customer.setPhone(rs.getString(&quot;phone&quot;));&#10;        customer.setAddress(rs.getString(&quot;address&quot;));&#10;        &#10;        Date dateOfBirth = rs.getDate(&quot;date_of_birth&quot;);&#10;        if (dateOfBirth != null) {&#10;            customer.setDateOfBirth(new java.util.Date(dateOfBirth.getTime()));&#10;        }&#10;        &#10;        customer.setTotalSpent(rs.getDouble(&quot;total_spent&quot;));&#10;        &#10;        Date registrationDate = rs.getDate(&quot;registration_date&quot;);&#10;        if (registrationDate != null) {&#10;            customer.setRegistrationDate(new java.util.Date(registrationDate.getTime()));&#10;        }&#10;        &#10;        customer.setActive(&quot;Y&quot;.equals(rs.getString(&quot;is_active&quot;)));&#10;        customer.setLoyaltyPoints(rs.getInt(&quot;loyalty_points&quot;));&#10;        &#10;        return customer;&#10;    }&#10;}&#10;&#10;&#10;" />
              <option name="updatedContent" value="package com.hotel.dao;&#13;&#10;&#13;&#10;import com.hotel.model.Customer;&#13;&#10;import com.hotel.util.DatabaseConnection;&#13;&#10;&#13;&#10;import java.sql.*;&#13;&#10;import java.util.ArrayList;&#13;&#10;import java.util.List;&#13;&#10;&#13;&#10;/**&#13;&#10; * Data Access Object for Customer operations&#13;&#10; */&#13;&#10;public class CustomerDAO {&#13;&#10;    &#13;&#10;    /**&#13;&#10;     * Create a new customer&#13;&#10;     */&#13;&#10;    public Customer create(Customer customer) throws SQLException {&#13;&#10;        String sql = &quot;INSERT INTO customers (customer_id, first_name, last_name, email, phone, &quot; +&#13;&#10;                    &quot;address, date_of_birth, total_spent, loyalty_points) &quot; +&#13;&#10;                    &quot;VALUES (customer_seq.NEXTVAL, ?, ?, ?, ?, ?, ?, ?, ?)&quot;;&#13;&#10;        &#13;&#10;        Connection conn = null;&#13;&#10;        PreparedStatement pstmt = null;&#13;&#10;        ResultSet rs = null;&#13;&#10;        &#13;&#10;        try {&#13;&#10;            conn = DatabaseConnection.getConnection();&#13;&#10;            pstmt = conn.prepareStatement(sql, new String[]{&quot;customer_id&quot;});&#13;&#10;            &#13;&#10;            pstmt.setString(1, customer.getFirstName());&#13;&#10;            pstmt.setString(2, customer.getLastName());&#13;&#10;            pstmt.setString(3, customer.getEmail());&#13;&#10;            pstmt.setString(4, customer.getPhone());&#13;&#10;            pstmt.setString(5, customer.getAddress());&#13;&#10;            &#13;&#10;            if (customer.getDateOfBirth() != null) {&#13;&#10;                pstmt.setDate(6, new Date(customer.getDateOfBirth().getTime()));&#13;&#10;            } else {&#13;&#10;                pstmt.setNull(6, Types.DATE);&#13;&#10;            }&#13;&#10;            &#13;&#10;            pstmt.setDouble(7, customer.getTotalSpent());&#13;&#10;            pstmt.setInt(8, customer.getLoyaltyPoints());&#13;&#10;            &#13;&#10;            int rowsAffected = pstmt.executeUpdate();&#13;&#10;            &#13;&#10;            if (rowsAffected &gt; 0) {&#13;&#10;                rs = pstmt.getGeneratedKeys();&#13;&#10;                if (rs.next()) {&#13;&#10;                    int customerId = rs.getInt(1);&#13;&#10;                    customer.setCustomerId(customerId);&#13;&#10;                    return customer;&#13;&#10;                }&#13;&#10;            }&#13;&#10;            &#13;&#10;            return null;&#13;&#10;&#13;&#10;        } finally {&#13;&#10;            DatabaseConnection.closeResources(conn, pstmt, rs);&#13;&#10;        }&#13;&#10;    }&#13;&#10;    &#13;&#10;    /**&#13;&#10;     * Find customer by ID&#13;&#10;     */&#13;&#10;    public Customer findById(int customerId) throws SQLException {&#13;&#10;        String sql = &quot;SELECT customer_id, first_name, last_name, email, phone, address, &quot; +&#13;&#10;                    &quot;date_of_birth, total_spent, registration_date, is_active, loyalty_points &quot; +&#13;&#10;                    &quot;FROM customers WHERE customer_id = ?&quot;;&#13;&#10;        &#13;&#10;        Connection conn = null;&#13;&#10;        PreparedStatement pstmt = null;&#13;&#10;        ResultSet rs = null;&#13;&#10;        &#13;&#10;        try {&#13;&#10;            conn = DatabaseConnection.getConnection();&#13;&#10;            pstmt = conn.prepareStatement(sql);&#13;&#10;            pstmt.setInt(1, customerId);&#13;&#10;            &#13;&#10;            rs = pstmt.executeQuery();&#13;&#10;            &#13;&#10;            if (rs.next()) {&#13;&#10;                return mapResultSetToCustomer(rs);&#13;&#10;            }&#13;&#10;            &#13;&#10;            return null;&#13;&#10;            &#13;&#10;        } finally {&#13;&#10;            DatabaseConnection.closeResources(conn, pstmt, rs);&#13;&#10;        }&#13;&#10;    }&#13;&#10;    &#13;&#10;    /**&#13;&#10;     * Find customer by email&#13;&#10;     */&#13;&#10;    public Customer findByEmail(String email) throws SQLException {&#13;&#10;        String sql = &quot;SELECT customer_id, first_name, last_name, email, phone, address, &quot; +&#13;&#10;                    &quot;date_of_birth, total_spent, registration_date, is_active, loyalty_points &quot; +&#13;&#10;                    &quot;FROM customers WHERE email = ?&quot;;&#13;&#10;        &#13;&#10;        Connection conn = null;&#13;&#10;        PreparedStatement pstmt = null;&#13;&#10;        ResultSet rs = null;&#13;&#10;        &#13;&#10;        try {&#13;&#10;            conn = DatabaseConnection.getConnection();&#13;&#10;            pstmt = conn.prepareStatement(sql);&#13;&#10;            pstmt.setString(1, email);&#13;&#10;            &#13;&#10;            rs = pstmt.executeQuery();&#13;&#10;            &#13;&#10;            if (rs.next()) {&#13;&#10;                return mapResultSetToCustomer(rs);&#13;&#10;            }&#13;&#10;            &#13;&#10;            return null;&#13;&#10;            &#13;&#10;        } finally {&#13;&#10;            DatabaseConnection.closeResources(conn, pstmt, rs);&#13;&#10;        }&#13;&#10;    }&#13;&#10;    &#13;&#10;    /**&#13;&#10;     * Get all customers&#13;&#10;     */&#13;&#10;    public List&lt;Customer&gt; findAll() throws SQLException {&#13;&#10;        String sql = &quot;SELECT customer_id, first_name, last_name, email, phone, address, &quot; +&#13;&#10;                    &quot;date_of_birth, total_spent, registration_date, is_active, loyalty_points &quot; +&#13;&#10;                    &quot;FROM customers WHERE is_active = 'Y' ORDER BY registration_date DESC&quot;;&#13;&#10;        &#13;&#10;        Connection conn = null;&#13;&#10;        PreparedStatement pstmt = null;&#13;&#10;        ResultSet rs = null;&#13;&#10;        List&lt;Customer&gt; customers = new ArrayList&lt;&gt;();&#13;&#10;        &#13;&#10;        try {&#13;&#10;            conn = DatabaseConnection.getConnection();&#13;&#10;            pstmt = conn.prepareStatement(sql);&#13;&#10;            rs = pstmt.executeQuery();&#13;&#10;            &#13;&#10;            while (rs.next()) {&#13;&#10;                customers.add(mapResultSetToCustomer(rs));&#13;&#10;            }&#13;&#10;            &#13;&#10;            return customers;&#13;&#10;            &#13;&#10;        } finally {&#13;&#10;            DatabaseConnection.closeResources(conn, pstmt, rs);&#13;&#10;        }&#13;&#10;    }&#13;&#10;    &#13;&#10;    /**&#13;&#10;     * Update customer information&#13;&#10;     */&#13;&#10;    public void update(Customer customer) throws SQLException {&#13;&#10;        String sql = &quot;UPDATE customers SET first_name = ?, last_name = ?, email = ?, &quot; +&#13;&#10;                    &quot;phone = ?, address = ?, date_of_birth = ?, total_spent = ?, loyalty_points = ? &quot; +&#13;&#10;                    &quot;WHERE customer_id = ?&quot;;&#13;&#10;        &#13;&#10;        Connection conn = null;&#13;&#10;        PreparedStatement pstmt = null;&#13;&#10;        &#13;&#10;        try {&#13;&#10;            conn = DatabaseConnection.getConnection();&#13;&#10;            pstmt = conn.prepareStatement(sql);&#13;&#10;            &#13;&#10;            pstmt.setString(1, customer.getFirstName());&#13;&#10;            pstmt.setString(2, customer.getLastName());&#13;&#10;            pstmt.setString(3, customer.getEmail());&#13;&#10;            pstmt.setString(4, customer.getPhone());&#13;&#10;            pstmt.setString(5, customer.getAddress());&#13;&#10;            &#13;&#10;            if (customer.getDateOfBirth() != null) {&#13;&#10;                pstmt.setDate(6, new Date(customer.getDateOfBirth().getTime()));&#13;&#10;            } else {&#13;&#10;                pstmt.setNull(6, Types.DATE);&#13;&#10;            }&#13;&#10;            &#13;&#10;            pstmt.setDouble(7, customer.getTotalSpent());&#13;&#10;            pstmt.setInt(8, customer.getLoyaltyPoints());&#13;&#10;            pstmt.setInt(9, customer.getCustomerId());&#13;&#10;            &#13;&#10;            pstmt.executeUpdate();&#13;&#10;&#13;&#10;        } finally {&#13;&#10;            DatabaseConnection.closeResources(conn, pstmt);&#13;&#10;        }&#13;&#10;    }&#13;&#10;    &#13;&#10;    /**&#13;&#10;     * Delete customer (soft delete - set inactive)&#13;&#10;     */&#13;&#10;    public boolean deleteCustomer(int customerId) throws SQLException {&#13;&#10;        String sql = &quot;UPDATE customers SET is_active = 'N' WHERE customer_id = ?&quot;;&#13;&#10;        &#13;&#10;        Connection conn = null;&#13;&#10;        PreparedStatement pstmt = null;&#13;&#10;        &#13;&#10;        try {&#13;&#10;            conn = DatabaseConnection.getConnection();&#13;&#10;            pstmt = conn.prepareStatement(sql);&#13;&#10;            pstmt.setInt(1, customerId);&#13;&#10;            &#13;&#10;            int rowsAffected = pstmt.executeUpdate();&#13;&#10;            return rowsAffected &gt; 0;&#13;&#10;            &#13;&#10;        } finally {&#13;&#10;            DatabaseConnection.closeResources(conn, pstmt);&#13;&#10;        }&#13;&#10;    }&#13;&#10;    &#13;&#10;    /**&#13;&#10;     * Search customers by name or email&#13;&#10;     */&#13;&#10;    public List&lt;Customer&gt; search(String searchTerm) throws SQLException {&#13;&#10;        String sql = &quot;SELECT customer_id, first_name, last_name, email, phone, address, &quot; +&#13;&#10;                    &quot;date_of_birth, total_spent, registration_date, is_active, loyalty_points &quot; +&#13;&#10;                    &quot;FROM customers WHERE is_active = 'Y' AND &quot; +&#13;&#10;                    &quot;(UPPER(first_name) LIKE UPPER(?) OR UPPER(last_name) LIKE UPPER(?) OR &quot; +&#13;&#10;                    &quot;UPPER(email) LIKE UPPER(?) OR phone LIKE ?) &quot; +&#13;&#10;                    &quot;ORDER BY total_spent DESC&quot;;&#13;&#10;        &#13;&#10;        Connection conn = null;&#13;&#10;        PreparedStatement pstmt = null;&#13;&#10;        ResultSet rs = null;&#13;&#10;        List&lt;Customer&gt; customers = new ArrayList&lt;&gt;();&#13;&#10;        &#13;&#10;        try {&#13;&#10;            conn = DatabaseConnection.getConnection();&#13;&#10;            pstmt = conn.prepareStatement(sql);&#13;&#10;            &#13;&#10;            String searchPattern = &quot;%&quot; + searchTerm + &quot;%&quot;;&#13;&#10;            pstmt.setString(1, searchPattern);&#13;&#10;            pstmt.setString(2, searchPattern);&#13;&#10;            pstmt.setString(3, searchPattern);&#13;&#10;            pstmt.setString(4, searchPattern);&#13;&#10;            &#13;&#10;            rs = pstmt.executeQuery();&#13;&#10;            &#13;&#10;            while (rs.next()) {&#13;&#10;                customers.add(mapResultSetToCustomer(rs));&#13;&#10;            }&#13;&#10;            &#13;&#10;            return customers;&#13;&#10;            &#13;&#10;        } finally {&#13;&#10;            DatabaseConnection.closeResources(conn, pstmt, rs);&#13;&#10;        }&#13;&#10;    }&#13;&#10;    &#13;&#10;    /**&#13;&#10;     * Get customers eligible for VIP membership&#13;&#10;     */&#13;&#10;    public List&lt;Customer&gt; getVIPEligibleCustomers(double spendingThreshold) throws SQLException {&#13;&#10;        String sql = &quot;SELECT c.customer_id, c.first_name, c.last_name, c.email, c.phone, &quot; +&#13;&#10;                    &quot;c.address, c.date_of_birth, c.total_spent, c.registration_date, &quot; +&#13;&#10;                    &quot;c.is_active, c.loyalty_points &quot; +&#13;&#10;                    &quot;FROM customers c &quot; +&#13;&#10;                    &quot;LEFT JOIN vip_members vm ON c.customer_id = vm.customer_id AND vm.is_active = 'Y' &quot; +&#13;&#10;                    &quot;WHERE c.is_active = 'Y' AND c.total_spent &gt;= ? AND vm.customer_id IS NULL &quot; +&#13;&#10;                    &quot;ORDER BY c.total_spent DESC&quot;;&#13;&#10;        &#13;&#10;        Connection conn = null;&#13;&#10;        PreparedStatement pstmt = null;&#13;&#10;        ResultSet rs = null;&#13;&#10;        List&lt;Customer&gt; customers = new ArrayList&lt;&gt;();&#13;&#10;        &#13;&#10;        try {&#13;&#10;            conn = DatabaseConnection.getConnection();&#13;&#10;            pstmt = conn.prepareStatement(sql);&#13;&#10;            pstmt.setDouble(1, spendingThreshold);&#13;&#10;            &#13;&#10;            rs = pstmt.executeQuery();&#13;&#10;            &#13;&#10;            while (rs.next()) {&#13;&#10;                customers.add(mapResultSetToCustomer(rs));&#13;&#10;            }&#13;&#10;            &#13;&#10;            return customers;&#13;&#10;            &#13;&#10;        } finally {&#13;&#10;            DatabaseConnection.closeResources(conn, pstmt, rs);&#13;&#10;        }&#13;&#10;    }&#13;&#10;    &#13;&#10;    /**&#13;&#10;     * Get customer discount using Oracle function&#13;&#10;     */&#13;&#10;    public double getCustomerDiscount(int customerId) throws SQLException {&#13;&#10;        String sql = &quot;{? = call calculate_customer_discount(?)}&quot;;&#13;&#10;        &#13;&#10;        Connection conn = null;&#13;&#10;        CallableStatement cstmt = null;&#13;&#10;        &#13;&#10;        try {&#13;&#10;            conn = DatabaseConnection.getConnection();&#13;&#10;            cstmt = conn.prepareCall(sql);&#13;&#10;            &#13;&#10;            cstmt.registerOutParameter(1, Types.NUMERIC);&#13;&#10;            cstmt.setInt(2, customerId);&#13;&#10;            &#13;&#10;            cstmt.execute();&#13;&#10;            &#13;&#10;            return cstmt.getDouble(1);&#13;&#10;            &#13;&#10;        } finally {&#13;&#10;            DatabaseConnection.closeResources(conn, cstmt);&#13;&#10;        }&#13;&#10;    }&#13;&#10;    &#13;&#10;    /**&#13;&#10;     * Map ResultSet to Customer object&#13;&#10;     */&#13;&#10;    private Customer mapResultSetToCustomer(ResultSet rs) throws SQLException {&#13;&#10;        Customer customer = new Customer();&#13;&#10;        &#13;&#10;        customer.setCustomerId(rs.getInt(&quot;customer_id&quot;));&#13;&#10;        customer.setFirstName(rs.getString(&quot;first_name&quot;));&#13;&#10;        customer.setLastName(rs.getString(&quot;last_name&quot;));&#13;&#10;        customer.setEmail(rs.getString(&quot;email&quot;));&#13;&#10;        customer.setPhone(rs.getString(&quot;phone&quot;));&#13;&#10;        customer.setAddress(rs.getString(&quot;address&quot;));&#13;&#10;        &#13;&#10;        Date dateOfBirth = rs.getDate(&quot;date_of_birth&quot;);&#13;&#10;        if (dateOfBirth != null) {&#13;&#10;            customer.setDateOfBirth(new java.util.Date(dateOfBirth.getTime()));&#13;&#10;        }&#13;&#10;        &#13;&#10;        customer.setTotalSpent(rs.getDouble(&quot;total_spent&quot;));&#13;&#10;        &#13;&#10;        Date registrationDate = rs.getDate(&quot;registration_date&quot;);&#13;&#10;        if (registrationDate != null) {&#13;&#10;            customer.setRegistrationDate(new java.util.Date(registrationDate.getTime()));&#13;&#10;        }&#13;&#10;        &#13;&#10;        customer.setActive(&quot;Y&quot;.equals(rs.getString(&quot;is_active&quot;)));&#13;&#10;        customer.setLoyaltyPoints(rs.getInt(&quot;loyalty_points&quot;));&#13;&#10;        &#13;&#10;        return customer;&#13;&#10;    }&#13;&#10;&#13;&#10;    /**&#13;&#10;     * Save customer (create or update)&#13;&#10;     */&#13;&#10;    public void save(Customer customer) throws SQLException {&#13;&#10;        if (customer.getCustomerId() == 0) {&#13;&#10;            create(customer);&#13;&#10;        } else {&#13;&#10;            update(customer);&#13;&#10;        }&#13;&#10;    }&#13;&#10;&#13;&#10;    /**&#13;&#10;     * Search customers by name&#13;&#10;     */&#13;&#10;    public List&lt;Customer&gt; searchByName(String searchTerm) throws SQLException {&#13;&#10;        String sql = &quot;SELECT * FROM customers WHERE LOWER(first_name) LIKE ? OR LOWER(last_name) LIKE ?&quot;;&#13;&#10;        List&lt;Customer&gt; customers = new ArrayList&lt;&gt;();&#13;&#10;&#13;&#10;        try (Connection conn = DatabaseConnection.getConnection();&#13;&#10;             PreparedStatement pstmt = conn.prepareStatement(sql)) {&#13;&#10;&#13;&#10;            String searchPattern = &quot;%&quot; + searchTerm.toLowerCase() + &quot;%&quot;;&#13;&#10;            pstmt.setString(1, searchPattern);&#13;&#10;            pstmt.setString(2, searchPattern);&#13;&#10;&#13;&#10;            try (ResultSet rs = pstmt.executeQuery()) {&#13;&#10;                while (rs.next()) {&#13;&#10;                    customers.add(mapResultSetToCustomer(rs));&#13;&#10;                }&#13;&#10;            }&#13;&#10;        }&#13;&#10;        return customers;&#13;&#10;    }&#13;&#10;&#13;&#10;    /**&#13;&#10;     * Find customers eligible for VIP membership based on activity&#13;&#10;     */&#13;&#10;    public List&lt;Customer&gt; findVIPEligible() throws SQLException {&#13;&#10;        String sql = &quot;SELECT c.* FROM customers c &quot; +&#13;&#10;                    &quot;JOIN bookings b ON c.customer_id = b.customer_id &quot; +&#13;&#10;                    &quot;GROUP BY c.customer_id, c.first_name, c.last_name, c.email, &quot; +&#13;&#10;                    &quot;c.phone, c.address, c.created_date, c.last_updated &quot; +&#13;&#10;                    &quot;HAVING COUNT(*) &gt;= 5 AND SUM(b.total_amount) &gt;= 5000&quot;;&#13;&#10;        &#13;&#10;        List&lt;Customer&gt; customers = new ArrayList&lt;&gt;();&#13;&#10;        try (Connection conn = DatabaseConnection.getConnection();&#13;&#10;             PreparedStatement pstmt = conn.prepareStatement(sql);&#13;&#10;             ResultSet rs = pstmt.executeQuery()) {&#13;&#10;            &#13;&#10;            while (rs.next()) {&#13;&#10;                customers.add(mapResultSetToCustomer(rs));&#13;&#10;            }&#13;&#10;        }&#13;&#10;        return customers;&#13;&#10;    }&#13;&#10;}" />
            </PendingDiffInfo>
          </value>
        </entry>
        <entry key="$PROJECT_DIR$/HotelRentalSystem/src/main/java/com/hotel/dao/InvoiceDAO.java">
          <value>
            <PendingDiffInfo>
              <option name="filePath" value="$PROJECT_DIR$/HotelRentalSystem/src/main/java/com/hotel/dao/InvoiceDAO.java" />
              <option name="originalContent" value="package com.hotel.dao;&#10;&#10;import com.hotel.model.Invoice;&#10;import com.hotel.model.InvoiceLineItem;&#10;import com.hotel.util.DatabaseConnection;&#10;&#10;import java.sql.*;&#10;import java.util.ArrayList;&#10;import java.util.List;&#10;&#10;/**&#10; * Data Access Object for Invoice operations&#10; */&#10;public class InvoiceDAO {&#10;    &#10;    // Generate invoice using stored procedure&#10;    public Invoice generateInvoice(long bookingId, double taxRate, String createdBy) throws SQLException {&#10;        String sql = &quot;{CALL generate_invoice(?, ?, ?, ?, ?, ?, ?)}&quot;;&#10;        &#10;        try (Connection conn = DatabaseConnection.getConnection();&#10;             CallableStatement stmt = conn.prepareCall(sql)) {&#10;            &#10;            stmt.setLong(1, bookingId);&#10;            stmt.setDouble(2, taxRate);&#10;            stmt.setString(3, createdBy);&#10;            stmt.registerOutParameter(4, Types.NUMERIC); // invoice_id&#10;            stmt.registerOutParameter(5, Types.VARCHAR); // invoice_number&#10;            stmt.registerOutParameter(6, Types.NUMERIC); // success&#10;            stmt.registerOutParameter(7, Types.VARCHAR); // message&#10;            &#10;            stmt.execute();&#10;            &#10;            int success = stmt.getInt(6);&#10;            String message = stmt.getString(7);&#10;            &#10;            if (success == 1) {&#10;                long invoiceId = stmt.getLong(4);&#10;                String invoiceNumber = stmt.getString(5);&#10;                &#10;                // Retrieve the generated invoice&#10;                Invoice invoice = findById(invoiceId);&#10;                if (invoice != null) {&#10;                    invoice.setInvoiceNumber(invoiceNumber);&#10;                }&#10;                return invoice;&#10;            } else {&#10;                throw new SQLException(&quot;Failed to generate invoice: &quot; + message);&#10;            }&#10;        }&#10;    }&#10;    &#10;    // Find invoice by ID&#10;    public Invoice findById(long invoiceId) throws SQLException {&#10;        String sql = &quot;SELECT i.invoice_id, i.booking_id, i.customer_id, i.invoice_number, &quot; +&#10;                    &quot;i.invoice_date, i.due_date, i.subtotal, i.tax_amount, i.discount_amount, &quot; +&#10;                    &quot;i.total_amount, i.payment_status, i.payment_date, i.payment_method, &quot; +&#10;                    &quot;i.notes, i.created_by, &quot; +&#10;                    &quot;c.first_name, c.last_name, c.email &quot; +&#10;                    &quot;FROM invoices i &quot; +&#10;                    &quot;JOIN customers c ON i.customer_id = c.customer_id &quot; +&#10;                    &quot;WHERE i.invoice_id = ?&quot;;&#10;        &#10;        try (Connection conn = DatabaseConnection.getConnection();&#10;             PreparedStatement stmt = conn.prepareStatement(sql)) {&#10;            &#10;            stmt.setLong(1, invoiceId);&#10;            &#10;            try (ResultSet rs = stmt.executeQuery()) {&#10;                if (rs.next()) {&#10;                    Invoice invoice = mapResultSetToInvoice(rs);&#10;                    // Load line items&#10;                    invoice.setLineItems(findLineItemsByInvoiceId(invoiceId));&#10;                    return invoice;&#10;                }&#10;            }&#10;        }&#10;        return null;&#10;    }&#10;    &#10;    // Find invoice by invoice number&#10;    public Invoice findByInvoiceNumber(String invoiceNumber) throws SQLException {&#10;        String sql = &quot;SELECT i.invoice_id, i.booking_id, i.customer_id, i.invoice_number, &quot; +&#10;                    &quot;i.invoice_date, i.due_date, i.subtotal, i.tax_amount, i.discount_amount, &quot; +&#10;                    &quot;i.total_amount, i.payment_status, i.payment_date, i.payment_method, &quot; +&#10;                    &quot;i.notes, i.created_by, &quot; +&#10;                    &quot;c.first_name, c.last_name, c.email &quot; +&#10;                    &quot;FROM invoices i &quot; +&#10;                    &quot;JOIN customers c ON i.customer_id = c.customer_id &quot; +&#10;                    &quot;WHERE i.invoice_number = ?&quot;;&#10;        &#10;        try (Connection conn = DatabaseConnection.getConnection();&#10;             PreparedStatement stmt = conn.prepareStatement(sql)) {&#10;            &#10;            stmt.setString(1, invoiceNumber);&#10;            &#10;            try (ResultSet rs = stmt.executeQuery()) {&#10;                if (rs.next()) {&#10;                    Invoice invoice = mapResultSetToInvoice(rs);&#10;                    // Load line items&#10;                    invoice.setLineItems(findLineItemsByInvoiceId(invoice.getInvoiceId()));&#10;                    return invoice;&#10;                }&#10;            }&#10;        }&#10;        return null;&#10;    }&#10;    &#10;    // Find invoices by customer ID&#10;    public List&lt;Invoice&gt; findByCustomerId(int customerId) throws SQLException {&#10;        String sql = &quot;SELECT i.invoice_id, i.booking_id, i.customer_id, i.invoice_number, &quot; +&#10;                    &quot;i.invoice_date, i.due_date, i.subtotal, i.tax_amount, i.discount_amount, &quot; +&#10;                    &quot;i.total_amount, i.payment_status, i.payment_date, i.payment_method, &quot; +&#10;                    &quot;i.notes, i.created_by, &quot; +&#10;                    &quot;c.first_name, c.last_name, c.email &quot; +&#10;                    &quot;FROM invoices i &quot; +&#10;                    &quot;JOIN customers c ON i.customer_id = c.customer_id &quot; +&#10;                    &quot;WHERE i.customer_id = ? ORDER BY i.invoice_date DESC&quot;;&#10;        &#10;        List&lt;Invoice&gt; invoices = new ArrayList&lt;&gt;();&#10;        &#10;        try (Connection conn = DatabaseConnection.getConnection();&#10;             PreparedStatement stmt = conn.prepareStatement(sql)) {&#10;            &#10;            stmt.setInt(1, customerId);&#10;            &#10;            try (ResultSet rs = stmt.executeQuery()) {&#10;                while (rs.next()) {&#10;                    Invoice invoice = mapResultSetToInvoice(rs);&#10;                    // Load line items for each invoice&#10;                    invoice.setLineItems(findLineItemsByInvoiceId(invoice.getInvoiceId()));&#10;                    invoices.add(invoice);&#10;                }&#10;            }&#10;        }&#10;        return invoices;&#10;    }&#10;    &#10;    // Find invoices by booking ID&#10;    public List&lt;Invoice&gt; findByBookingId(long bookingId) throws SQLException {&#10;        String sql = &quot;SELECT i.invoice_id, i.booking_id, i.customer_id, i.invoice_number, &quot; +&#10;                    &quot;i.invoice_date, i.due_date, i.subtotal, i.tax_amount, i.discount_amount, &quot; +&#10;                    &quot;i.total_amount, i.payment_status, i.payment_date, i.payment_method, &quot; +&#10;                    &quot;i.notes, i.created_by, &quot; +&#10;                    &quot;c.first_name, c.last_name, c.email &quot; +&#10;                    &quot;FROM invoices i &quot; +&#10;                    &quot;JOIN customers c ON i.customer_id = c.customer_id &quot; +&#10;                    &quot;WHERE i.booking_id = ? ORDER BY i.invoice_date DESC&quot;;&#10;        &#10;        List&lt;Invoice&gt; invoices = new ArrayList&lt;&gt;();&#10;        &#10;        try (Connection conn = DatabaseConnection.getConnection();&#10;             PreparedStatement stmt = conn.prepareStatement(sql)) {&#10;            &#10;            stmt.setLong(1, bookingId);&#10;            &#10;            try (ResultSet rs = stmt.executeQuery()) {&#10;                while (rs.next()) {&#10;                    Invoice invoice = mapResultSetToInvoice(rs);&#10;                    // Load line items for each invoice&#10;                    invoice.setLineItems(findLineItemsByInvoiceId(invoice.getInvoiceId()));&#10;                    invoices.add(invoice);&#10;                }&#10;            }&#10;        }&#10;        return invoices;&#10;    }&#10;    &#10;    // Find all invoices&#10;    public List&lt;Invoice&gt; findAll() throws SQLException {&#10;        String sql = &quot;SELECT i.invoice_id, i.booking_id, i.customer_id, i.invoice_number, &quot; +&#10;                    &quot;i.invoice_date, i.due_date, i.subtotal, i.tax_amount, i.discount_amount, &quot; +&#10;                    &quot;i.total_amount, i.payment_status, i.payment_date, i.payment_method, &quot; +&#10;                    &quot;i.notes, i.created_by, &quot; +&#10;                    &quot;c.first_name, c.last_name, c.email &quot; +&#10;                    &quot;FROM invoices i &quot; +&#10;                    &quot;JOIN customers c ON i.customer_id = c.customer_id &quot; +&#10;                    &quot;ORDER BY i.invoice_date DESC&quot;;&#10;        &#10;        List&lt;Invoice&gt; invoices = new ArrayList&lt;&gt;();&#10;        &#10;        try (Connection conn = DatabaseConnection.getConnection();&#10;             PreparedStatement stmt = conn.prepareStatement(sql);&#10;             ResultSet rs = stmt.executeQuery()) {&#10;            &#10;            while (rs.next()) {&#10;                Invoice invoice = mapResultSetToInvoice(rs);&#10;                // Load line items for each invoice&#10;                invoice.setLineItems(findLineItemsByInvoiceId(invoice.getInvoiceId()));&#10;                invoices.add(invoice);&#10;            }&#10;        }&#10;        return invoices;&#10;    }&#10;    &#10;    // Find pending invoices&#10;    public List&lt;Invoice&gt; findPendingInvoices() throws SQLException {&#10;        String sql = &quot;SELECT i.invoice_id, i.booking_id, i.customer_id, i.invoice_number, &quot; +&#10;                    &quot;i.invoice_date, i.due_date, i.subtotal, i.tax_amount, i.discount_amount, &quot; +&#10;                    &quot;i.total_amount, i.payment_status, i.payment_date, i.payment_method, &quot; +&#10;                    &quot;i.notes, i.created_by, &quot; +&#10;                    &quot;c.first_name, c.last_name, c.email &quot; +&#10;                    &quot;FROM invoices i &quot; +&#10;                    &quot;JOIN customers c ON i.customer_id = c.customer_id &quot; +&#10;                    &quot;WHERE i.payment_status = 'PENDING' &quot; +&#10;                    &quot;ORDER BY i.due_date&quot;;&#10;        &#10;        List&lt;Invoice&gt; invoices = new ArrayList&lt;&gt;();&#10;        &#10;        try (Connection conn = DatabaseConnection.getConnection();&#10;             PreparedStatement stmt = conn.prepareStatement(sql);&#10;             ResultSet rs = stmt.executeQuery()) {&#10;            &#10;            while (rs.next()) {&#10;                Invoice invoice = mapResultSetToInvoice(rs);&#10;                invoice.setLineItems(findLineItemsByInvoiceId(invoice.getInvoiceId()));&#10;                invoices.add(invoice);&#10;            }&#10;        }&#10;        return invoices;&#10;    }&#10;    &#10;    // Find overdue invoices&#10;    public List&lt;Invoice&gt; findOverdueInvoices() throws SQLException {&#10;        String sql = &quot;SELECT i.invoice_id, i.booking_id, i.customer_id, i.invoice_number, &quot; +&#10;                    &quot;i.invoice_date, i.due_date, i.subtotal, i.tax_amount, i.discount_amount, &quot; +&#10;                    &quot;i.total_amount, i.payment_status, i.payment_date, i.payment_method, &quot; +&#10;                    &quot;i.notes, i.created_by, &quot; +&#10;                    &quot;c.first_name, c.last_name, c.email &quot; +&#10;                    &quot;FROM invoices i &quot; +&#10;                    &quot;JOIN customers c ON i.customer_id = c.customer_id &quot; +&#10;                    &quot;WHERE i.payment_status IN ('PENDING', 'OVERDUE') &quot; +&#10;                    &quot;AND i.due_date &lt; SYSDATE &quot; +&#10;                    &quot;ORDER BY i.due_date&quot;;&#10;        &#10;        List&lt;Invoice&gt; invoices = new ArrayList&lt;&gt;();&#10;        &#10;        try (Connection conn = DatabaseConnection.getConnection();&#10;             PreparedStatement stmt = conn.prepareStatement(sql);&#10;             ResultSet rs = stmt.executeQuery()) {&#10;            &#10;            while (rs.next()) {&#10;                Invoice invoice = mapResultSetToInvoice(rs);&#10;                invoice.setLineItems(findLineItemsByInvoiceId(invoice.getInvoiceId()));&#10;                invoices.add(invoice);&#10;            }&#10;        }&#10;        return invoices;&#10;    }&#10;    &#10;    // Update invoice payment status&#10;    public void updatePaymentStatus(long invoiceId, Invoice.PaymentStatus paymentStatus, &#10;                                   Date paymentDate, String paymentMethod) throws SQLException {&#10;        String sql = &quot;UPDATE invoices SET payment_status = ?, payment_date = ?, payment_method = ? &quot; +&#10;                    &quot;WHERE invoice_id = ?&quot;;&#10;        &#10;        try (Connection conn = DatabaseConnection.getConnection();&#10;             PreparedStatement stmt = conn.prepareStatement(sql)) {&#10;            &#10;            stmt.setString(1, paymentStatus.name());&#10;            if (paymentDate != null) {&#10;                stmt.setTimestamp(2, new Timestamp(paymentDate.getTime()));&#10;            } else {&#10;                stmt.setNull(2, Types.TIMESTAMP);&#10;            }&#10;            stmt.setString(3, paymentMethod);&#10;            stmt.setLong(4, invoiceId);&#10;            &#10;            stmt.executeUpdate();&#10;        }&#10;    }&#10;    &#10;    // Update invoice&#10;    public void update(Invoice invoice) throws SQLException {&#10;        String sql = &quot;UPDATE invoices SET subtotal = ?, tax_amount = ?, discount_amount = ?, &quot; +&#10;                    &quot;total_amount = ?, payment_status = ?, payment_date = ?, payment_method = ?, &quot; +&#10;                    &quot;notes = ? WHERE invoice_id = ?&quot;;&#10;        &#10;        try (Connection conn = DatabaseConnection.getConnection();&#10;             PreparedStatement stmt = conn.prepareStatement(sql)) {&#10;            &#10;            stmt.setDouble(1, invoice.getSubtotal());&#10;            stmt.setDouble(2, invoice.getTaxAmount());&#10;            stmt.setDouble(3, invoice.getDiscountAmount());&#10;            stmt.setDouble(4, invoice.getTotalAmount());&#10;            stmt.setString(5, invoice.getPaymentStatusString());&#10;            if (invoice.getPaymentDate() != null) {&#10;                stmt.setTimestamp(6, new Timestamp(invoice.getPaymentDate().getTime()));&#10;            } else {&#10;                stmt.setNull(6, Types.TIMESTAMP);&#10;            }&#10;            stmt.setString(7, invoice.getPaymentMethod());&#10;            stmt.setString(8, invoice.getNotes());&#10;            stmt.setLong(9, invoice.getInvoiceId());&#10;            &#10;            stmt.executeUpdate();&#10;        }&#10;    }&#10;    &#10;    // Find line items by invoice ID&#10;    public List&lt;InvoiceLineItem&gt; findLineItemsByInvoiceId(long invoiceId) throws SQLException {&#10;        String sql = &quot;SELECT line_item_id, invoice_id, item_type, item_description, &quot; +&#10;                    &quot;quantity, unit_price, line_total, service_id, usage_id &quot; +&#10;                    &quot;FROM invoice_line_items WHERE invoice_id = ? ORDER BY line_item_id&quot;;&#10;        &#10;        List&lt;InvoiceLineItem&gt; lineItems = new ArrayList&lt;&gt;();&#10;        &#10;        try (Connection conn = DatabaseConnection.getConnection();&#10;             PreparedStatement stmt = conn.prepareStatement(sql)) {&#10;            &#10;            stmt.setLong(1, invoiceId);&#10;            &#10;            try (ResultSet rs = stmt.executeQuery()) {&#10;                while (rs.next()) {&#10;                    lineItems.add(mapResultSetToInvoiceLineItem(rs));&#10;                }&#10;            }&#10;        }&#10;        return lineItems;&#10;    }&#10;    &#10;    // Get invoice statistics&#10;    public double getTotalRevenue() throws SQLException {&#10;        String sql = &quot;SELECT NVL(SUM(total_amount), 0) FROM invoices WHERE payment_status = 'PAID'&quot;;&#10;        &#10;        try (Connection conn = DatabaseConnection.getConnection();&#10;             PreparedStatement stmt = conn.prepareStatement(sql);&#10;             ResultSet rs = stmt.executeQuery()) {&#10;            &#10;            if (rs.next()) {&#10;                return rs.getDouble(1);&#10;            }&#10;        }&#10;        return 0.0;&#10;    }&#10;    &#10;    // Get pending payment amount&#10;    public double getPendingPaymentAmount() throws SQLException {&#10;        String sql = &quot;SELECT NVL(SUM(total_amount), 0) FROM invoices &quot; +&#10;                    &quot;WHERE payment_status IN ('PENDING', 'OVERDUE')&quot;;&#10;        &#10;        try (Connection conn = DatabaseConnection.getConnection();&#10;             PreparedStatement stmt = conn.prepareStatement(sql);&#10;             ResultSet rs = stmt.executeQuery()) {&#10;            &#10;            if (rs.next()) {&#10;                return rs.getDouble(1);&#10;            }&#10;        }&#10;        return 0.0;&#10;    }&#10;    &#10;    // Find invoice by number&#10;    public Invoice findByNumber(String invoiceNumber) throws SQLException {&#10;        String sql = &quot;SELECT * FROM invoices WHERE invoice_number = ?&quot;;&#10;&#10;        try (Connection conn = DatabaseConnection.getConnection();&#10;             PreparedStatement pstmt = conn.prepareStatement(sql)) {&#10;&#10;            pstmt.setString(1, invoiceNumber);&#10;&#10;            try (ResultSet rs = pstmt.executeQuery()) {&#10;                if (rs.next()) {&#10;                    return mapResultSetToInvoice(rs);&#10;                }&#10;            }&#10;        }&#10;        return null;&#10;    }&#10;&#10;    // Find pending invoices&#10;    public List&lt;Invoice&gt; findPending() throws SQLException {&#10;        String sql = &quot;SELECT * FROM invoices WHERE payment_status = 'PENDING'&quot;;&#10;        List&lt;Invoice&gt; pendingInvoices = new ArrayList&lt;&gt;();&#10;&#10;        try (Connection conn = DatabaseConnection.getConnection();&#10;             PreparedStatement pstmt = conn.prepareStatement(sql);&#10;             ResultSet rs = pstmt.executeQuery()) {&#10;&#10;            while (rs.next()) {&#10;                pendingInvoices.add(mapResultSetToInvoice(rs));&#10;            }&#10;        }&#10;        return pendingInvoices;&#10;    }&#10;&#10;    // Update invoice payment&#10;    public void updatePayment(long invoiceId, Invoice.PaymentStatus status,&#10;                            Date paymentDate, String paymentMethod) throws SQLException {&#10;        String sql = &quot;UPDATE invoices SET payment_status = ?, payment_date = ?, &quot; +&#10;                    &quot;payment_method = ? WHERE invoice_id = ?&quot;;&#10;&#10;        try (Connection conn = DatabaseConnection.getConnection();&#10;             PreparedStatement pstmt = conn.prepareStatement(sql)) {&#10;&#10;            pstmt.setString(1, status.name());&#10;            pstmt.setDate(2, new java.sql.Date(paymentDate.getTime()));&#10;            pstmt.setString(3, paymentMethod);&#10;            pstmt.setLong(4, invoiceId);&#10;&#10;            pstmt.executeUpdate();&#10;        }&#10;    }&#10;&#10;    // Helper method to map ResultSet to Invoice object&#10;    private Invoice mapResultSetToInvoice(ResultSet rs) throws SQLException {&#10;        Invoice invoice = new Invoice();&#10;        invoice.setInvoiceId(rs.getLong(&quot;invoice_id&quot;));&#10;        invoice.setBookingId(rs.getLong(&quot;booking_id&quot;));&#10;        invoice.setCustomerId(rs.getInt(&quot;customer_id&quot;));&#10;        invoice.setInvoiceNumber(rs.getString(&quot;invoice_number&quot;));&#10;        invoice.setInvoiceDate(rs.getTimestamp(&quot;invoice_date&quot;));&#10;        invoice.setDueDate(rs.getTimestamp(&quot;due_date&quot;));&#10;        invoice.setSubtotal(rs.getDouble(&quot;subtotal&quot;));&#10;        invoice.setTaxAmount(rs.getDouble(&quot;tax_amount&quot;));&#10;        invoice.setDiscountAmount(rs.getDouble(&quot;discount_amount&quot;));&#10;        invoice.setTotalAmount(rs.getDouble(&quot;total_amount&quot;));&#10;        invoice.setPaymentStatusFromString(rs.getString(&quot;payment_status&quot;));&#10;        invoice.setPaymentDate(rs.getTimestamp(&quot;payment_date&quot;));&#10;        invoice.setPaymentMethod(rs.getString(&quot;payment_method&quot;));&#10;        invoice.setNotes(rs.getString(&quot;notes&quot;));&#10;        invoice.setCreatedBy(rs.getString(&quot;created_by&quot;));&#10;        return invoice;&#10;    }&#10;    &#10;    // Helper method to map ResultSet to InvoiceLineItem object&#10;    private InvoiceLineItem mapResultSetToInvoiceLineItem(ResultSet rs) throws SQLException {&#10;        InvoiceLineItem lineItem = new InvoiceLineItem();&#10;        lineItem.setLineItemId(rs.getLong(&quot;line_item_id&quot;));&#10;        lineItem.setInvoiceId(rs.getLong(&quot;invoice_id&quot;));&#10;        lineItem.setItemTypeFromString(rs.getString(&quot;item_type&quot;));&#10;        lineItem.setItemDescription(rs.getString(&quot;item_description&quot;));&#10;        lineItem.setQuantity(rs.getDouble(&quot;quantity&quot;));&#10;        lineItem.setUnitPrice(rs.getDouble(&quot;unit_price&quot;));&#10;        lineItem.setLineTotal(rs.getDouble(&quot;line_total&quot;));&#10;        &#10;        int serviceId = rs.getInt(&quot;service_id&quot;);&#10;        if (!rs.wasNull()) {&#10;            lineItem.setServiceId(serviceId);&#10;        }&#10;        &#10;        long usageId = rs.getLong(&quot;usage_id&quot;);&#10;        if (!rs.wasNull()) {&#10;            lineItem.setUsageId(usageId);&#10;        }&#10;        &#10;        return lineItem;&#10;    }&#10;}&#10;&#10;" />
              <option name="updatedContent" value="package com.hotel.dao;&#10;&#10;import com.hotel.model.Invoice;&#10;import com.hotel.model.InvoiceLineItem;&#10;import com.hotel.util.DatabaseConnection;&#10;&#10;import java.sql.*;&#10;import java.util.ArrayList;&#10;import java.util.List;&#10;&#10;/**&#10; * Data Access Object for Invoice operations&#10; */&#10;public class InvoiceDAO {&#10;    &#10;    // Generate invoice using stored procedure&#10;    public Invoice generateInvoice(long bookingId, double taxRate, String createdBy) throws SQLException {&#10;        String sql = &quot;{CALL generate_invoice(?, ?, ?, ?, ?, ?, ?)}&quot;;&#10;        &#10;        try (Connection conn = DatabaseConnection.getConnection();&#10;             CallableStatement stmt = conn.prepareCall(sql)) {&#10;            &#10;            stmt.setLong(1, bookingId);&#10;            stmt.setDouble(2, taxRate);&#10;            stmt.setString(3, createdBy);&#10;            stmt.registerOutParameter(4, Types.NUMERIC); // invoice_id&#10;            stmt.registerOutParameter(5, Types.VARCHAR); // invoice_number&#10;            stmt.registerOutParameter(6, Types.NUMERIC); // success&#10;            stmt.registerOutParameter(7, Types.VARCHAR); // message&#10;            &#10;            stmt.execute();&#10;            &#10;            int success = stmt.getInt(6);&#10;            String message = stmt.getString(7);&#10;            &#10;            if (success == 1) {&#10;                long invoiceId = stmt.getLong(4);&#10;                String invoiceNumber = stmt.getString(5);&#10;                &#10;                // Retrieve the generated invoice&#10;                Invoice invoice = findById(invoiceId);&#10;                if (invoice != null) {&#10;                    invoice.setInvoiceNumber(invoiceNumber);&#10;                }&#10;                return invoice;&#10;            } else {&#10;                throw new SQLException(&quot;Failed to generate invoice: &quot; + message);&#10;            }&#10;        }&#10;    }&#10;    &#10;    // Find invoice by ID&#10;    public Invoice findById(long invoiceId) throws SQLException {&#10;        String sql = &quot;SELECT i.invoice_id, i.booking_id, i.customer_id, i.invoice_number, &quot; +&#10;                    &quot;i.invoice_date, i.due_date, i.subtotal, i.tax_amount, i.discount_amount, &quot; +&#10;                    &quot;i.total_amount, i.payment_status, i.payment_date, i.payment_method, &quot; +&#10;                    &quot;i.notes, i.created_by, &quot; +&#10;                    &quot;c.first_name, c.last_name, c.email &quot; +&#10;                    &quot;FROM invoices i &quot; +&#10;                    &quot;JOIN customers c ON i.customer_id = c.customer_id &quot; +&#10;                    &quot;WHERE i.invoice_id = ?&quot;;&#10;        &#10;        try (Connection conn = DatabaseConnection.getConnection();&#10;             PreparedStatement stmt = conn.prepareStatement(sql)) {&#10;            &#10;            stmt.setLong(1, invoiceId);&#10;            &#10;            try (ResultSet rs = stmt.executeQuery()) {&#10;                if (rs.next()) {&#10;                    Invoice invoice = mapResultSetToInvoice(rs);&#10;                    // Load line items&#10;                    invoice.setLineItems(findLineItemsByInvoiceId(invoiceId));&#10;                    return invoice;&#10;                }&#10;            }&#10;        }&#10;        return null;&#10;    }&#10;    &#10;    // Find invoice by invoice number&#10;    public Invoice findByInvoiceNumber(String invoiceNumber) throws SQLException {&#10;        String sql = &quot;SELECT i.invoice_id, i.booking_id, i.customer_id, i.invoice_number, &quot; +&#10;                    &quot;i.invoice_date, i.due_date, i.subtotal, i.tax_amount, i.discount_amount, &quot; +&#10;                    &quot;i.total_amount, i.payment_status, i.payment_date, i.payment_method, &quot; +&#10;                    &quot;i.notes, i.created_by, &quot; +&#10;                    &quot;c.first_name, c.last_name, c.email &quot; +&#10;                    &quot;FROM invoices i &quot; +&#10;                    &quot;JOIN customers c ON i.customer_id = c.customer_id &quot; +&#10;                    &quot;WHERE i.invoice_number = ?&quot;;&#10;        &#10;        try (Connection conn = DatabaseConnection.getConnection();&#10;             PreparedStatement stmt = conn.prepareStatement(sql)) {&#10;            &#10;            stmt.setString(1, invoiceNumber);&#10;            &#10;            try (ResultSet rs = stmt.executeQuery()) {&#10;                if (rs.next()) {&#10;                    Invoice invoice = mapResultSetToInvoice(rs);&#10;                    // Load line items&#10;                    invoice.setLineItems(findLineItemsByInvoiceId(invoice.getInvoiceId()));&#10;                    return invoice;&#10;                }&#10;            }&#10;        }&#10;        return null;&#10;    }&#10;    &#10;    // Find invoices by customer ID&#10;    public List&lt;Invoice&gt; findByCustomerId(int customerId) throws SQLException {&#10;        String sql = &quot;SELECT i.invoice_id, i.booking_id, i.customer_id, i.invoice_number, &quot; +&#10;                    &quot;i.invoice_date, i.due_date, i.subtotal, i.tax_amount, i.discount_amount, &quot; +&#10;                    &quot;i.total_amount, i.payment_status, i.payment_date, i.payment_method, &quot; +&#10;                    &quot;i.notes, i.created_by, &quot; +&#10;                    &quot;c.first_name, c.last_name, c.email &quot; +&#10;                    &quot;FROM invoices i &quot; +&#10;                    &quot;JOIN customers c ON i.customer_id = c.customer_id &quot; +&#10;                    &quot;WHERE i.customer_id = ? ORDER BY i.invoice_date DESC&quot;;&#10;        &#10;        List&lt;Invoice&gt; invoices = new ArrayList&lt;&gt;();&#10;        &#10;        try (Connection conn = DatabaseConnection.getConnection();&#10;             PreparedStatement stmt = conn.prepareStatement(sql)) {&#10;            &#10;            stmt.setInt(1, customerId);&#10;            &#10;            try (ResultSet rs = stmt.executeQuery()) {&#10;                while (rs.next()) {&#10;                    Invoice invoice = mapResultSetToInvoice(rs);&#10;                    // Load line items for each invoice&#10;                    invoice.setLineItems(findLineItemsByInvoiceId(invoice.getInvoiceId()));&#10;                    invoices.add(invoice);&#10;                }&#10;            }&#10;        }&#10;        return invoices;&#10;    }&#10;    &#10;    // Find invoices by booking ID&#10;    public List&lt;Invoice&gt; findByBookingId(long bookingId) throws SQLException {&#10;        String sql = &quot;SELECT i.invoice_id, i.booking_id, i.customer_id, i.invoice_number, &quot; +&#10;                    &quot;i.invoice_date, i.due_date, i.subtotal, i.tax_amount, i.discount_amount, &quot; +&#10;                    &quot;i.total_amount, i.payment_status, i.payment_date, i.payment_method, &quot; +&#10;                    &quot;i.notes, i.created_by, &quot; +&#10;                    &quot;c.first_name, c.last_name, c.email &quot; +&#10;                    &quot;FROM invoices i &quot; +&#10;                    &quot;JOIN customers c ON i.customer_id = c.customer_id &quot; +&#10;                    &quot;WHERE i.booking_id = ? ORDER BY i.invoice_date DESC&quot;;&#10;        &#10;        List&lt;Invoice&gt; invoices = new ArrayList&lt;&gt;();&#10;        &#10;        try (Connection conn = DatabaseConnection.getConnection();&#10;             PreparedStatement stmt = conn.prepareStatement(sql)) {&#10;            &#10;            stmt.setLong(1, bookingId);&#10;            &#10;            try (ResultSet rs = stmt.executeQuery()) {&#10;                while (rs.next()) {&#10;                    Invoice invoice = mapResultSetToInvoice(rs);&#10;                    // Load line items for each invoice&#10;                    invoice.setLineItems(findLineItemsByInvoiceId(invoice.getInvoiceId()));&#10;                    invoices.add(invoice);&#10;                }&#10;            }&#10;        }&#10;        return invoices;&#10;    }&#10;    &#10;    // Find all invoices&#10;    public List&lt;Invoice&gt; findAll() throws SQLException {&#10;        String sql = &quot;SELECT i.invoice_id, i.booking_id, i.customer_id, i.invoice_number, &quot; +&#10;                    &quot;i.invoice_date, i.due_date, i.subtotal, i.tax_amount, i.discount_amount, &quot; +&#10;                    &quot;i.total_amount, i.payment_status, i.payment_date, i.payment_method, &quot; +&#10;                    &quot;i.notes, i.created_by, &quot; +&#10;                    &quot;c.first_name, c.last_name, c.email &quot; +&#10;                    &quot;FROM invoices i &quot; +&#10;                    &quot;JOIN customers c ON i.customer_id = c.customer_id &quot; +&#10;                    &quot;ORDER BY i.invoice_date DESC&quot;;&#10;        &#10;        List&lt;Invoice&gt; invoices = new ArrayList&lt;&gt;();&#10;        &#10;        try (Connection conn = DatabaseConnection.getConnection();&#10;             PreparedStatement stmt = conn.prepareStatement(sql);&#10;             ResultSet rs = stmt.executeQuery()) {&#10;            &#10;            while (rs.next()) {&#10;                Invoice invoice = mapResultSetToInvoice(rs);&#10;                // Load line items for each invoice&#10;                invoice.setLineItems(findLineItemsByInvoiceId(invoice.getInvoiceId()));&#10;                invoices.add(invoice);&#10;            }&#10;        }&#10;        return invoices;&#10;    }&#10;    &#10;    // Find pending invoices&#10;    public List&lt;Invoice&gt; findPendingInvoices() throws SQLException {&#10;        String sql = &quot;SELECT i.invoice_id, i.booking_id, i.customer_id, i.invoice_number, &quot; +&#10;                    &quot;i.invoice_date, i.due_date, i.subtotal, i.tax_amount, i.discount_amount, &quot; +&#10;                    &quot;i.total_amount, i.payment_status, i.payment_date, i.payment_method, &quot; +&#10;                    &quot;i.notes, i.created_by, &quot; +&#10;                    &quot;c.first_name, c.last_name, c.email &quot; +&#10;                    &quot;FROM invoices i &quot; +&#10;                    &quot;JOIN customers c ON i.customer_id = c.customer_id &quot; +&#10;                    &quot;WHERE i.payment_status = 'PENDING' &quot; +&#10;                    &quot;ORDER BY i.due_date&quot;;&#10;        &#10;        List&lt;Invoice&gt; invoices = new ArrayList&lt;&gt;();&#10;        &#10;        try (Connection conn = DatabaseConnection.getConnection();&#10;             PreparedStatement stmt = conn.prepareStatement(sql);&#10;             ResultSet rs = stmt.executeQuery()) {&#10;            &#10;            while (rs.next()) {&#10;                Invoice invoice = mapResultSetToInvoice(rs);&#10;                invoice.setLineItems(findLineItemsByInvoiceId(invoice.getInvoiceId()));&#10;                invoices.add(invoice);&#10;            }&#10;        }&#10;        return invoices;&#10;    }&#10;    &#10;    // Find overdue invoices&#10;    public List&lt;Invoice&gt; findOverdueInvoices() throws SQLException {&#10;        String sql = &quot;SELECT i.invoice_id, i.booking_id, i.customer_id, i.invoice_number, &quot; +&#10;                    &quot;i.invoice_date, i.due_date, i.subtotal, i.tax_amount, i.discount_amount, &quot; +&#10;                    &quot;i.total_amount, i.payment_status, i.payment_date, i.payment_method, &quot; +&#10;                    &quot;i.notes, i.created_by, &quot; +&#10;                    &quot;c.first_name, c.last_name, c.email &quot; +&#10;                    &quot;FROM invoices i &quot; +&#10;                    &quot;JOIN customers c ON i.customer_id = c.customer_id &quot; +&#10;                    &quot;WHERE i.payment_status IN ('PENDING', 'OVERDUE') &quot; +&#10;                    &quot;AND i.due_date &lt; SYSDATE &quot; +&#10;                    &quot;ORDER BY i.due_date&quot;;&#10;        &#10;        List&lt;Invoice&gt; invoices = new ArrayList&lt;&gt;();&#10;        &#10;        try (Connection conn = DatabaseConnection.getConnection();&#10;             PreparedStatement stmt = conn.prepareStatement(sql);&#10;             ResultSet rs = stmt.executeQuery()) {&#10;            &#10;            while (rs.next()) {&#10;                Invoice invoice = mapResultSetToInvoice(rs);&#10;                invoice.setLineItems(findLineItemsByInvoiceId(invoice.getInvoiceId()));&#10;                invoices.add(invoice);&#10;            }&#10;        }&#10;        return invoices;&#10;    }&#10;    &#10;    // Update invoice payment status&#10;    public void updatePaymentStatus(long invoiceId, Invoice.PaymentStatus paymentStatus, &#10;                                   Date paymentDate, String paymentMethod) throws SQLException {&#10;        String sql = &quot;UPDATE invoices SET payment_status = ?, payment_date = ?, payment_method = ? &quot; +&#10;                    &quot;WHERE invoice_id = ?&quot;;&#10;        &#10;        try (Connection conn = DatabaseConnection.getConnection();&#10;             PreparedStatement stmt = conn.prepareStatement(sql)) {&#10;            &#10;            stmt.setString(1, paymentStatus.name());&#10;            if (paymentDate != null) {&#10;                stmt.setTimestamp(2, new Timestamp(paymentDate.getTime()));&#10;            } else {&#10;                stmt.setNull(2, Types.TIMESTAMP);&#10;            }&#10;            stmt.setString(3, paymentMethod);&#10;            stmt.setLong(4, invoiceId);&#10;            &#10;            stmt.executeUpdate();&#10;        }&#10;    }&#10;    &#10;    // Update invoice&#10;    public void update(Invoice invoice) throws SQLException {&#10;        String sql = &quot;UPDATE invoices SET subtotal = ?, tax_amount = ?, discount_amount = ?, &quot; +&#10;                    &quot;total_amount = ?, payment_status = ?, payment_date = ?, payment_method = ?, &quot; +&#10;                    &quot;notes = ? WHERE invoice_id = ?&quot;;&#10;        &#10;        try (Connection conn = DatabaseConnection.getConnection();&#10;             PreparedStatement stmt = conn.prepareStatement(sql)) {&#10;            &#10;            stmt.setDouble(1, invoice.getSubtotal());&#10;            stmt.setDouble(2, invoice.getTaxAmount());&#10;            stmt.setDouble(3, invoice.getDiscountAmount());&#10;            stmt.setDouble(4, invoice.getTotalAmount());&#10;            stmt.setString(5, invoice.getPaymentStatusString());&#10;            if (invoice.getPaymentDate() != null) {&#10;                stmt.setTimestamp(6, new Timestamp(invoice.getPaymentDate().getTime()));&#10;            } else {&#10;                stmt.setNull(6, Types.TIMESTAMP);&#10;            }&#10;            stmt.setString(7, invoice.getPaymentMethod());&#10;            stmt.setString(8, invoice.getNotes());&#10;            stmt.setLong(9, invoice.getInvoiceId());&#10;            &#10;            stmt.executeUpdate();&#10;        }&#10;    }&#10;    &#10;    // Find line items by invoice ID&#10;    public List&lt;InvoiceLineItem&gt; findLineItemsByInvoiceId(long invoiceId) throws SQLException {&#10;        String sql = &quot;SELECT line_item_id, invoice_id, item_type, item_description, &quot; +&#10;                    &quot;quantity, unit_price, line_total, service_id, usage_id &quot; +&#10;                    &quot;FROM invoice_line_items WHERE invoice_id = ? ORDER BY line_item_id&quot;;&#10;        &#10;        List&lt;InvoiceLineItem&gt; lineItems = new ArrayList&lt;&gt;();&#10;        &#10;        try (Connection conn = DatabaseConnection.getConnection();&#10;             PreparedStatement stmt = conn.prepareStatement(sql)) {&#10;            &#10;            stmt.setLong(1, invoiceId);&#10;            &#10;            try (ResultSet rs = stmt.executeQuery()) {&#10;                while (rs.next()) {&#10;                    lineItems.add(mapResultSetToInvoiceLineItem(rs));&#10;                }&#10;            }&#10;        }&#10;        return lineItems;&#10;    }&#10;    &#10;    // Get invoice statistics&#10;    public double getTotalRevenue() throws SQLException {&#10;        String sql = &quot;SELECT NVL(SUM(total_amount), 0) FROM invoices WHERE payment_status = 'PAID'&quot;;&#10;        &#10;        try (Connection conn = DatabaseConnection.getConnection();&#10;             PreparedStatement stmt = conn.prepareStatement(sql);&#10;             ResultSet rs = stmt.executeQuery()) {&#10;            &#10;            if (rs.next()) {&#10;                return rs.getDouble(1);&#10;            }&#10;        }&#10;        return 0.0;&#10;    }&#10;    &#10;    // Get pending payment amount&#10;    public double getPendingPaymentAmount() throws SQLException {&#10;        String sql = &quot;SELECT NVL(SUM(total_amount), 0) FROM invoices &quot; +&#10;                    &quot;WHERE payment_status IN ('PENDING', 'OVERDUE')&quot;;&#10;        &#10;        try (Connection conn = DatabaseConnection.getConnection();&#10;             PreparedStatement stmt = conn.prepareStatement(sql);&#10;             ResultSet rs = stmt.executeQuery()) {&#10;            &#10;            if (rs.next()) {&#10;                return rs.getDouble(1);&#10;            }&#10;        }&#10;        return 0.0;&#10;    }&#10;    &#10;    // Find invoice by number&#10;    public Invoice findByNumber(String invoiceNumber) throws SQLException {&#10;        String sql = &quot;SELECT * FROM invoices WHERE invoice_number = ?&quot;;&#10;&#10;        try (Connection conn = DatabaseConnection.getConnection();&#10;             PreparedStatement pstmt = conn.prepareStatement(sql)) {&#10;&#10;            pstmt.setString(1, invoiceNumber);&#10;&#10;            try (ResultSet rs = pstmt.executeQuery()) {&#10;                if (rs.next()) {&#10;                    return mapResultSetToInvoice(rs);&#10;                }&#10;            }&#10;        }&#10;        return null;&#10;    }&#10;&#10;    // Find pending invoices&#10;    public List&lt;Invoice&gt; findPending() throws SQLException {&#10;        String sql = &quot;SELECT * FROM invoices WHERE payment_status = 'PENDING'&quot;;&#10;        List&lt;Invoice&gt; pendingInvoices = new ArrayList&lt;&gt;();&#10;&#10;        try (Connection conn = DatabaseConnection.getConnection();&#10;             PreparedStatement pstmt = conn.prepareStatement(sql);&#10;             ResultSet rs = pstmt.executeQuery()) {&#10;&#10;            while (rs.next()) {&#10;                pendingInvoices.add(mapResultSetToInvoice(rs));&#10;            }&#10;        }&#10;        return pendingInvoices;&#10;    }&#10;&#10;    // Update invoice payment&#10;    public void updatePayment(long invoiceId, Invoice.PaymentStatus status,&#10;                            Date paymentDate, String paymentMethod) throws SQLException {&#10;        String sql = &quot;UPDATE invoices SET payment_status = ?, payment_date = ?, &quot; +&#10;                    &quot;payment_method = ? WHERE invoice_id = ?&quot;;&#10;&#10;        try (Connection conn = DatabaseConnection.getConnection();&#10;             PreparedStatement pstmt = conn.prepareStatement(sql)) {&#10;&#10;            pstmt.setString(1, status.name());&#10;            pstmt.setDate(2, new java.sql.Date(paymentDate.getTime()));&#10;            pstmt.setString(3, paymentMethod);&#10;            pstmt.setLong(4, invoiceId);&#10;&#10;            pstmt.executeUpdate();&#10;        }&#10;    }&#10;&#10;    // Helper method to map ResultSet to Invoice object&#10;    private Invoice mapResultSetToInvoice(ResultSet rs) throws SQLException {&#10;        Invoice invoice = new Invoice();&#10;        invoice.setInvoiceId(rs.getLong(&quot;invoice_id&quot;));&#10;        invoice.setBookingId(rs.getLong(&quot;booking_id&quot;));&#10;        invoice.setCustomerId(rs.getInt(&quot;customer_id&quot;));&#10;        invoice.setInvoiceNumber(rs.getString(&quot;invoice_number&quot;));&#10;        invoice.setInvoiceDate(rs.getTimestamp(&quot;invoice_date&quot;));&#10;        invoice.setDueDate(rs.getTimestamp(&quot;due_date&quot;));&#10;        invoice.setSubtotal(rs.getDouble(&quot;subtotal&quot;));&#10;        invoice.setTaxAmount(rs.getDouble(&quot;tax_amount&quot;));&#10;        invoice.setDiscountAmount(rs.getDouble(&quot;discount_amount&quot;));&#10;        invoice.setTotalAmount(rs.getDouble(&quot;total_amount&quot;));&#10;        invoice.setPaymentStatusFromString(rs.getString(&quot;payment_status&quot;));&#10;        invoice.setPaymentDate(rs.getTimestamp(&quot;payment_date&quot;));&#10;        invoice.setPaymentMethod(rs.getString(&quot;payment_method&quot;));&#10;        invoice.setNotes(rs.getString(&quot;notes&quot;));&#10;        invoice.setCreatedBy(rs.getString(&quot;created_by&quot;));&#10;        return invoice;&#10;    }&#10;    &#10;    // Helper method to map ResultSet to InvoiceLineItem object&#10;    private InvoiceLineItem mapResultSetToInvoiceLineItem(ResultSet rs) throws SQLException {&#10;        InvoiceLineItem lineItem = new InvoiceLineItem();&#10;        lineItem.setLineItemId(rs.getLong(&quot;line_item_id&quot;));&#10;        lineItem.setInvoiceId(rs.getLong(&quot;invoice_id&quot;));&#10;        lineItem.setItemTypeFromString(rs.getString(&quot;item_type&quot;));&#10;        lineItem.setItemDescription(rs.getString(&quot;item_description&quot;));&#10;        lineItem.setQuantity(rs.getDouble(&quot;quantity&quot;));&#10;        lineItem.setUnitPrice(rs.getDouble(&quot;unit_price&quot;));&#10;        lineItem.setLineTotal(rs.getDouble(&quot;line_total&quot;));&#10;        &#10;        int serviceId = rs.getInt(&quot;service_id&quot;);&#10;        if (!rs.wasNull()) {&#10;            lineItem.setServiceId(serviceId);&#10;        }&#10;        &#10;        long usageId = rs.getLong(&quot;usage_id&quot;);&#10;        if (!rs.wasNull()) {&#10;            lineItem.setUsageId(usageId);&#10;        }&#10;        &#10;        return lineItem;&#10;    }&#10;&#10;    public Invoice generate(long bookingId, double taxRate, String createdBy) throws SQLException {&#10;        String sql = &quot;{CALL generate_invoice(?, ?, ?, ?, ?, ?, ?)}&quot;;&#10;        &#10;        try (Connection conn = DatabaseConnection.getConnection();&#10;             CallableStatement stmt = conn.prepareCall(sql)) {&#10;            &#10;            stmt.setLong(1, bookingId);&#10;            stmt.setDouble(2, taxRate);&#10;            stmt.setString(3, createdBy);&#10;            stmt.registerOutParameter(4, Types.NUMERIC); // invoice_id&#10;            stmt.registerOutParameter(5, Types.VARCHAR); // invoice_number&#10;            stmt.registerOutParameter(6, Types.NUMERIC); // success&#10;            stmt.registerOutParameter(7, Types.VARCHAR); // message&#10;            &#10;            stmt.execute();&#10;            &#10;            int success = stmt.getInt(6);&#10;            String message = stmt.getString(7);&#10;            &#10;            if (success == 1) {&#10;                long invoiceId = stmt.getLong(4);&#10;                String invoiceNumber = stmt.getString(5);&#10;                &#10;                // Retrieve the generated invoice&#10;                Invoice invoice = findById(invoiceId);&#10;                if (invoice != null) {&#10;                    invoice.setInvoiceNumber(invoiceNumber);&#10;                }&#10;                return invoice;&#10;            } else {&#10;                throw new SQLException(&quot;Failed to generate invoice: &quot; + message);&#10;            }&#10;        }&#10;    }&#10;}&#10;" />
            </PendingDiffInfo>
          </value>
        </entry>
        <entry key="$PROJECT_DIR$/HotelRentalSystem/src/main/java/com/hotel/model/Booking.java">
          <value>
            <PendingDiffInfo>
              <option name="filePath" value="$PROJECT_DIR$/HotelRentalSystem/src/main/java/com/hotel/model/Booking.java" />
              <option name="originalContent" value="package com.hotel.model;&#10;&#10;import java.util.Date;&#10;&#10;public class Booking {&#10;    private long bookingId;&#10;    private int customerId;&#10;    private int roomId;&#10;    private Date checkInDate;&#10;    private Date checkOutDate;&#10;    private String bookingStatus;&#10;    private double totalAmount;&#10;    private double discountApplied;&#10;    private double extraCharges;&#10;    private Date createdDate;&#10;    private String createdBy;&#10;    private Date actualCheckIn;&#10;    private Date actualCheckOut;&#10;    private String specialRequests;&#10;    private String paymentStatus;&#10;    private Customer customer;&#10;    private Room room;&#10;&#10;    public Booking() {&#10;        this.customer = new Customer();&#10;        this.room = new Room();&#10;    }&#10;&#10;    public long getBookingId() { return bookingId; }&#10;    public void setBookingId(long bookingId) { this.bookingId = bookingId; }&#10;&#10;    public int getCustomerId() { return customerId; }&#10;    public void setCustomerId(int customerId) { this.customerId = customerId; }&#10;&#10;    public int getRoomId() { return roomId; }&#10;    public void setRoomId(int roomId) { this.roomId = roomId; }&#10;&#10;    public Date getCheckInDate() { return checkInDate; }&#10;    public void setCheckInDate(Date checkInDate) { this.checkInDate = checkInDate; }&#10;&#10;    public Date getCheckOutDate() { return checkOutDate; }&#10;    public void setCheckOutDate(Date checkOutDate) { this.checkOutDate = checkOutDate; }&#10;&#10;    public String getBookingStatus() { return bookingStatus; }&#10;    public void setBookingStatus(String bookingStatus) { this.bookingStatus = bookingStatus; }&#10;&#10;    public double getTotalAmount() { return totalAmount; }&#10;    public void setTotalAmount(double totalAmount) { this.totalAmount = totalAmount; }&#10;&#10;    public double getDiscountApplied() { return discountApplied; }&#10;    public void setDiscountApplied(double discountApplied) { this.discountApplied = discountApplied; }&#10;&#10;    public double getExtraCharges() { return extraCharges; }&#10;    public void setExtraCharges(double extraCharges) { this.extraCharges = extraCharges; }&#10;&#10;    public Date getCreatedDate() { return createdDate; }&#10;    public void setCreatedDate(Date createdDate) { this.createdDate = createdDate; }&#10;&#10;    public String getCreatedBy() { return createdBy; }&#10;    public void setCreatedBy(String createdBy) { this.createdBy = createdBy; }&#10;&#10;    public Date getActualCheckIn() { return actualCheckIn; }&#10;    public void setActualCheckIn(Date actualCheckIn) { this.actualCheckIn = actualCheckIn; }&#10;&#10;    public Date getActualCheckOut() { return actualCheckOut; }&#10;    public void setActualCheckOut(Date actualCheckOut) { this.actualCheckOut = actualCheckOut; }&#10;&#10;    public String getSpecialRequests() { return specialRequests; }&#10;    public void setSpecialRequests(String specialRequests) { this.specialRequests = specialRequests; }&#10;&#10;    public String getPaymentStatus() { return paymentStatus; }&#10;    public void setPaymentStatus(String paymentStatus) { this.paymentStatus = paymentStatus; }&#10;&#10;    public Customer getCustomer() { return customer; }&#10;    public void setCustomer(Customer customer) { this.customer = customer; }&#10;&#10;    public Room getRoom() { return room; }&#10;    public void setRoom(Room room) { this.room = room; }&#10;&#10;    public void setBookingStatusFromString(String status) {&#10;        this.bookingStatus = status;&#10;    }&#10;&#10;    public String getBookingStatusString() {&#10;        return bookingStatus != null ? bookingStatus : &quot;&quot;;&#10;    }&#10;&#10;    public String getPaymentStatusString() {&#10;        return paymentStatus != null ? paymentStatus : &quot;PENDING&quot;;&#10;    }&#10;&#10;    public int getNumberOfNights() {&#10;        if (checkInDate == null || checkOutDate == null) return 0;&#10;        long diffInMillies = checkOutDate.getTime() - checkInDate.getTime();&#10;        return (int) (diffInMillies / (1000 * 60 * 60 * 24));&#10;    }&#10;&#10;    public double getFinalAmount() {&#10;        return totalAmount + extraCharges - discountApplied;&#10;    }&#10;}&#10;&#10;" />
              <option name="updatedContent" value="package com.hotel.model;&#10;&#10;import java.util.Date;&#10;&#10;public class Booking {&#10;    public enum BookingStatus {&#10;        CONFIRMED,&#10;        CHECKED_IN,&#10;        CHECKED_OUT,&#10;        CANCELLED,&#10;        NO_SHOW&#10;    }&#10;&#10;    private long bookingId;&#10;    private int customerId;&#10;    private int roomId;&#10;    private Date checkInDate;&#10;    private Date checkOutDate;&#10;    private String bookingStatus;&#10;    private double totalAmount;&#10;    private double discountApplied;&#10;    private double extraCharges;&#10;    private Date createdDate;&#10;    private String createdBy;&#10;    private Date actualCheckIn;&#10;    private Date actualCheckOut;&#10;    private String specialRequests;&#10;    private String paymentStatus;&#10;    private Customer customer;&#10;    private Room room;&#10;    private Date bookingDate;&#10;&#10;    public Booking() {&#10;        this.customer = new Customer();&#10;        this.room = new Room();&#10;        this.bookingDate = new Date();&#10;        this.bookingStatus = &quot;CONFIRMED&quot;;&#10;        this.paymentStatus = &quot;PENDING&quot;;&#10;    }&#10;&#10;    public long getBookingId() { return bookingId; }&#10;    public void setBookingId(long bookingId) { this.bookingId = bookingId; }&#10;&#10;    public int getCustomerId() { return customerId; }&#10;    public void setCustomerId(int customerId) { this.customerId = customerId; }&#10;&#10;    public int getRoomId() { return roomId; }&#10;    public void setRoomId(int roomId) { this.roomId = roomId; }&#10;&#10;    public Date getCheckInDate() { return checkInDate; }&#10;    public void setCheckInDate(Date checkInDate) { this.checkInDate = checkInDate; }&#10;&#10;    public Date getCheckOutDate() { return checkOutDate; }&#10;    public void setCheckOutDate(Date checkOutDate) { this.checkOutDate = checkOutDate; }&#10;&#10;    public String getBookingStatus() { return bookingStatus; }&#10;    public void setBookingStatus(String bookingStatus) { this.bookingStatus = bookingStatus; }&#10;&#10;    public double getTotalAmount() { return totalAmount; }&#10;    public void setTotalAmount(double totalAmount) { this.totalAmount = totalAmount; }&#10;&#10;    public double getDiscountApplied() { return discountApplied; }&#10;    public void setDiscountApplied(double discountApplied) { this.discountApplied = discountApplied; }&#10;&#10;    public double getExtraCharges() { return extraCharges; }&#10;    public void setExtraCharges(double extraCharges) { this.extraCharges = extraCharges; }&#10;&#10;    public Date getCreatedDate() { return createdDate; }&#10;    public void setCreatedDate(Date createdDate) { this.createdDate = createdDate; }&#10;&#10;    public String getCreatedBy() { return createdBy; }&#10;    public void setCreatedBy(String createdBy) { this.createdBy = createdBy; }&#10;&#10;    public Date getActualCheckIn() { return actualCheckIn; }&#10;    public void setActualCheckIn(Date actualCheckIn) { this.actualCheckIn = actualCheckIn; }&#10;&#10;    public Date getActualCheckOut() { return actualCheckOut; }&#10;    public void setActualCheckOut(Date actualCheckOut) { this.actualCheckOut = actualCheckOut; }&#10;&#10;    public String getSpecialRequests() { return specialRequests; }&#10;    public void setSpecialRequests(String specialRequests) { this.specialRequests = specialRequests; }&#10;&#10;    public String getPaymentStatus() { return paymentStatus; }&#10;    public void setPaymentStatus(String paymentStatus) { this.paymentStatus = paymentStatus; }&#10;&#10;    public Customer getCustomer() { return customer; }&#10;    public void setCustomer(Customer customer) { this.customer = customer; }&#10;&#10;    public Room getRoom() { return room; }&#10;    public void setRoom(Room room) { this.room = room; }&#10;&#10;    public Date getBookingDate() { return bookingDate; }&#10;    public void setBookingDate(Date bookingDate) { this.bookingDate = bookingDate; }&#10;&#10;    public String getBookingStatusString() {&#10;        return bookingStatus != null ? bookingStatus : &quot;&quot;;&#10;    }&#10;&#10;    public String getPaymentStatusString() {&#10;        return paymentStatus != null ? paymentStatus : &quot;PENDING&quot;;&#10;    }&#10;&#10;    public int getNumberOfNights() {&#10;        if (checkInDate == null || checkOutDate == null) return 0;&#10;        long diffInMillies = checkOutDate.getTime() - checkInDate.getTime();&#10;        return (int) (diffInMillies / (1000 * 60 * 60 * 24));&#10;    }&#10;&#10;    public double getFinalAmount() {&#10;        return totalAmount + extraCharges - discountApplied;&#10;    }&#10;&#10;    public void setBookingStatusFromString(String status) {&#10;        this.bookingStatus = status;&#10;    }&#10;&#10;    public void setPaymentStatusFromString(String status) {&#10;        this.paymentStatus = status;&#10;    }&#10;&#10;    public BookingStatus getStatus() {&#10;        return BookingStatus.valueOf(bookingStatus);&#10;    }&#10;&#10;    public void setStatus(BookingStatus status) {&#10;        this.bookingStatus = status.name();&#10;    }&#10;}" />
            </PendingDiffInfo>
          </value>
        </entry>
        <entry key="$PROJECT_DIR$/HotelRentalSystem/src/main/java/com/hotel/model/Customer.java">
          <value>
            <PendingDiffInfo>
              <option name="filePath" value="$PROJECT_DIR$/HotelRentalSystem/src/main/java/com/hotel/model/Customer.java" />
              <option name="originalContent" value="package com.hotel.model;&#10;&#10;import java.util.Date;&#10;&#10;/**&#10; * Customer model class representing a hotel customer&#10; */&#10;public class Customer {&#10;    private int customerId;&#10;    private String firstName;&#10;    private String lastName;&#10;    private String email;&#10;    private String phone;&#10;    private String address;&#10;    private Date dateOfBirth;&#10;    private double totalSpent;&#10;    private Date registrationDate;&#10;    private boolean isActive;&#10;    private int loyaltyPoints;&#10;&#10;    // Default constructor&#10;    public Customer() {}&#10;&#10;    // Constructor with required fields&#10;    public Customer(String firstName, String lastName, String email, String phone) {&#10;        this.firstName = firstName;&#10;        this.lastName = lastName;&#10;        this.email = email;&#10;        this.phone = phone;&#10;        this.isActive = true;&#10;        this.registrationDate = new Date();&#10;        this.totalSpent = 0.0;&#10;        this.loyaltyPoints = 0;&#10;    }&#10;&#10;    // Full constructor&#10;    public Customer(int customerId, String firstName, String lastName, String email,&#10;                    String phone, String address, Date dateOfBirth, double totalSpent,&#10;                    Date registrationDate, boolean isActive, int loyaltyPoints) {&#10;        this.customerId = customerId;&#10;        this.firstName = firstName;&#10;        this.lastName = lastName;&#10;        this.email = email;&#10;        this.phone = phone;&#10;        this.address = address;&#10;        this.dateOfBirth = dateOfBirth;&#10;        this.totalSpent = totalSpent;&#10;        this.registrationDate = registrationDate;&#10;        this.isActive = isActive;&#10;        this.loyaltyPoints = loyaltyPoints;&#10;    }&#10;&#10;    // Getters and Setters&#10;    public int getCustomerId() { return customerId; }&#10;    public void setCustomerId(int customerId) { this.customerId = customerId; }&#10;&#10;    public String getFirstName() { return firstName; }&#10;    public void setFirstName(String firstName) { this.firstName = firstName; }&#10;&#10;    public String getLastName() { return lastName; }&#10;    public void setLastName(String lastName) { this.lastName = lastName; }&#10;&#10;    public String getEmail() { return email; }&#10;    public void setEmail(String email) { this.email = email; }&#10;&#10;    public String getPhone() { return phone; }&#10;    public void setPhone(String phone) { this.phone = phone; }&#10;&#10;    public String getAddress() { return address; }&#10;    public void setAddress(String address) { this.address = address; }&#10;&#10;    public Date getDateOfBirth() { return dateOfBirth; }&#10;    public void setDateOfBirth(Date dateOfBirth) { this.dateOfBirth = dateOfBirth; }&#10;&#10;    public double getTotalSpent() { return totalSpent; }&#10;    public void setTotalSpent(double totalSpent) { this.totalSpent = totalSpent; }&#10;&#10;    public Date getRegistrationDate() { return registrationDate; }&#10;    public void setRegistrationDate(Date registrationDate) { this.registrationDate = registrationDate; }&#10;&#10;    public boolean isActive() { return isActive; }&#10;    public void setActive(boolean active) { isActive = active; }&#10;&#10;    public int getLoyaltyPoints() { return loyaltyPoints; }&#10;    public void setLoyaltyPoints(int loyaltyPoints) { this.loyaltyPoints = loyaltyPoints; }&#10;&#10;    public String getFullName() {&#10;        return firstName + &quot; &quot; + lastName;&#10;    }&#10;&#10;    public void setFullName(String fullName) {&#10;        String[] parts = fullName.split(&quot; &quot;, 2);&#10;        this.firstName = parts[0];&#10;        this.lastName = parts.length &gt; 1 ? parts[1] : &quot;&quot;;&#10;    }&#10;&#10;    // Utility methods&#10;    @Override&#10;    public String toString() {&#10;        return &quot;Customer{&quot; +&#10;                &quot;customerId=&quot; + customerId +&#10;                &quot;, firstName='&quot; + firstName + '\'' +&#10;                &quot;, lastName='&quot; + lastName + '\'' +&#10;                &quot;, email='&quot; + email + '\'' +&#10;                &quot;, totalSpent=&quot; + totalSpent +&#10;                &quot;, loyaltyPoints=&quot; + loyaltyPoints +&#10;                '}';&#10;    }&#10;&#10;    @Override&#10;    public boolean equals(Object obj) {&#10;        if (this == obj) return true;&#10;        if (obj == null || getClass() != obj.getClass()) return false;&#10;        Customer customer = (Customer) obj;&#10;        return customerId == customer.customerId;&#10;    }&#10;&#10;    @Override&#10;    public int hashCode() {&#10;        return Integer.hashCode(customerId);&#10;    }&#10;}&#10;" />
              <option name="updatedContent" value="package com.hotel.model;&#10;&#10;import java.util.Date;&#10;&#10;/**&#10; * Customer model class representing a hotel customer&#10; */&#10;public class Customer {&#10;    private int customerId;&#10;    private String firstName;&#10;    private String lastName;&#10;    private String email;&#10;    private String phone;&#10;    private String address;&#10;    private Date dateOfBirth;&#10;    private double totalSpent;&#10;    private Date registrationDate;&#10;    private boolean isActive;&#10;    private int loyaltyPoints;&#10;&#10;    // Default constructor&#10;    public Customer() {}&#10;&#10;    // Constructor with required fields&#10;    public Customer(String firstName, String lastName, String email, String phone) {&#10;        this.firstName = firstName;&#10;        this.lastName = lastName;&#10;        this.email = email;&#10;        this.phone = phone;&#10;        this.isActive = true;&#10;        this.registrationDate = new Date();&#10;        this.totalSpent = 0.0;&#10;        this.loyaltyPoints = 0;&#10;    }&#10;&#10;    // Full constructor&#10;    public Customer(int customerId, String firstName, String lastName, String email,&#10;                    String phone, String address, Date dateOfBirth, double totalSpent,&#10;                    Date registrationDate, boolean isActive, int loyaltyPoints) {&#10;        this.customerId = customerId;&#10;        this.firstName = firstName;&#10;        this.lastName = lastName;&#10;        this.email = email;&#10;        this.phone = phone;&#10;        this.address = address;&#10;        this.dateOfBirth = dateOfBirth;&#10;        this.totalSpent = totalSpent;&#10;        this.registrationDate = registrationDate;&#10;        this.isActive = isActive;&#10;        this.loyaltyPoints = loyaltyPoints;&#10;    }&#10;&#10;    // Getters and Setters&#10;    public int getCustomerId() { return customerId; }&#10;    public void setCustomerId(int customerId) { this.customerId = customerId; }&#10;&#10;    public String getFirstName() { return firstName; }&#10;    public void setFirstName(String firstName) { this.firstName = firstName; }&#10;&#10;    public String getLastName() { return lastName; }&#10;    public void setLastName(String lastName) { this.lastName = lastName; }&#10;&#10;    public String getEmail() { return email; }&#10;    public void setEmail(String email) { this.email = email; }&#10;&#10;    public String getPhone() {&#10;        return phone != null ? phone : &quot;&quot;;&#10;    }&#10;    public void setPhone(String phone) { this.phone = phone; }&#10;&#10;    public String getAddress() { return address; }&#10;    public void setAddress(String address) { this.address = address; }&#10;&#10;    public Date getDateOfBirth() { return dateOfBirth; }&#10;    public void setDateOfBirth(Date dateOfBirth) { this.dateOfBirth = dateOfBirth; }&#10;&#10;    public double getTotalSpent() {&#10;        return totalSpent;&#10;    }&#10;    public void setTotalSpent(double totalSpent) { this.totalSpent = totalSpent; }&#10;&#10;    public Date getRegistrationDate() { return registrationDate; }&#10;    public void setRegistrationDate(Date registrationDate) { this.registrationDate = registrationDate; }&#10;&#10;    public boolean isActive() { return isActive; }&#10;    public void setActive(boolean active) { isActive = active; }&#10;&#10;    public int getLoyaltyPoints() {&#10;        return loyaltyPoints;&#10;    }&#10;    public void setLoyaltyPoints(int loyaltyPoints) { this.loyaltyPoints = loyaltyPoints; }&#10;&#10;    public String getFullName() {&#10;        return firstName + &quot; &quot; + lastName;&#10;    }&#10;&#10;    public void setFullName(String fullName) {&#10;        String[] parts = fullName.split(&quot; &quot;, 2);&#10;        this.firstName = parts[0];&#10;        this.lastName = parts.length &gt; 1 ? parts[1] : &quot;&quot;;&#10;    }&#10;&#10;    // Utility methods&#10;    @Override&#10;    public String toString() {&#10;        return &quot;Customer{&quot; +&#10;                &quot;customerId=&quot; + customerId +&#10;                &quot;, firstName='&quot; + firstName + '\'' +&#10;                &quot;, lastName='&quot; + lastName + '\'' +&#10;                &quot;, email='&quot; + email + '\'' +&#10;                &quot;, totalSpent=&quot; + totalSpent +&#10;                &quot;, loyaltyPoints=&quot; + loyaltyPoints +&#10;                '}';&#10;    }&#10;&#10;    @Override&#10;    public boolean equals(Object obj) {&#10;        if (this == obj) return true;&#10;        if (obj == null || getClass() != obj.getClass()) return false;&#10;        Customer customer = (Customer) obj;&#10;        return customerId == customer.customerId;&#10;    }&#10;&#10;    @Override&#10;    public int hashCode() {&#10;        return Integer.hashCode(customerId);&#10;    }&#10;}" />
            </PendingDiffInfo>
          </value>
        </entry>
        <entry key="$PROJECT_DIR$/HotelRentalSystem/src/main/java/com/hotel/model/RoomService.java">
          <value>
            <PendingDiffInfo>
              <option name="filePath" value="$PROJECT_DIR$/HotelRentalSystem/src/main/java/com/hotel/model/RoomService.java" />
              <option name="originalContent" value="package com.hotel.model;&#10;&#10;import java.util.Date;&#10;&#10;/**&#10; * Model class representing a hotel room service&#10; */&#10;public class RoomService {&#10;    &#10;    public enum ServiceCategory {&#10;        HOUSEKEEPING, FOOD, LAUNDRY, MAINTENANCE, ENTERTAINMENT, TRANSPORTATION, ACCOMMODATION&#10;    }&#10;    &#10;    private int serviceId;&#10;    private String serviceName;&#10;    private String serviceDescription;&#10;    private ServiceCategory serviceCategory;&#10;    private double basePrice;&#10;    private boolean isActive;&#10;    private Date createdDate;&#10;    &#10;    // Constructors&#10;    public RoomService() {&#10;        this.isActive = true;&#10;        this.createdDate = new Date();&#10;    }&#10;    &#10;    public RoomService(String serviceName, String serviceDescription, &#10;                      ServiceCategory serviceCategory, double basePrice) {&#10;        this();&#10;        this.serviceName = serviceName;&#10;        this.serviceDescription = serviceDescription;&#10;        this.serviceCategory = serviceCategory;&#10;        this.basePrice = basePrice;&#10;    }&#10;    &#10;    // Getters and Setters&#10;    public int getServiceId() {&#10;        return serviceId;&#10;    }&#10;    &#10;    public void setServiceId(int serviceId) {&#10;        this.serviceId = serviceId;&#10;    }&#10;    &#10;    public String getServiceName() {&#10;        return serviceName;&#10;    }&#10;    &#10;    public void setServiceName(String serviceName) {&#10;        this.serviceName = serviceName;&#10;    }&#10;    &#10;    public String getServiceDescription() {&#10;        return serviceDescription;&#10;    }&#10;    &#10;    public void setServiceDescription(String serviceDescription) {&#10;        this.serviceDescription = serviceDescription;&#10;    }&#10;    &#10;    public ServiceCategory getServiceCategory() {&#10;        return serviceCategory;&#10;    }&#10;    &#10;    public void setServiceCategory(ServiceCategory serviceCategory) {&#10;        this.serviceCategory = serviceCategory;&#10;    }&#10;    &#10;    public String getServiceCategoryString() {&#10;        return serviceCategory != null ? serviceCategory.name() : &quot;&quot;;&#10;    }&#10;    &#10;    public void setServiceCategoryFromString(String categoryString) {&#10;        try {&#10;            this.serviceCategory = ServiceCategory.valueOf(categoryString);&#10;        } catch (IllegalArgumentException e) {&#10;            this.serviceCategory = ServiceCategory.HOUSEKEEPING;&#10;        }&#10;    }&#10;    &#10;    public double getBasePrice() {&#10;        return basePrice;&#10;    }&#10;    &#10;    public void setBasePrice(double basePrice) {&#10;        this.basePrice = basePrice;&#10;    }&#10;    &#10;    public boolean isActive() {&#10;        return isActive;&#10;    }&#10;    &#10;    public void setActive(boolean active) {&#10;        isActive = active;&#10;    }&#10;    &#10;    public Date getCreatedDate() {&#10;        return createdDate;&#10;    }&#10;    &#10;    public void setCreatedDate(Date createdDate) {&#10;        this.createdDate = createdDate;&#10;    }&#10;    &#10;    // Utility methods&#10;    public String getFormattedPrice() {&#10;        return String.format(&quot;$%.2f&quot;, basePrice);&#10;    }&#10;    &#10;    public String getDisplayName() {&#10;        return serviceName + &quot; (&quot; + getFormattedPrice() + &quot;)&quot;;&#10;    }&#10;    &#10;    @Override&#10;    public String toString() {&#10;        return &quot;RoomService{&quot; +&#10;                &quot;serviceId=&quot; + serviceId +&#10;                &quot;, serviceName='&quot; + serviceName + '\'' +&#10;                &quot;, serviceCategory=&quot; + serviceCategory +&#10;                &quot;, basePrice=&quot; + basePrice +&#10;                &quot;, isActive=&quot; + isActive +&#10;                '}';&#10;    }&#10;    &#10;    @Override&#10;    public boolean equals(Object obj) {&#10;        if (this == obj) return true;&#10;        if (obj == null || getClass() != obj.getClass()) return false;&#10;        &#10;        RoomService that = (RoomService) obj;&#10;        return serviceId == that.serviceId;&#10;    }&#10;    &#10;    @Override&#10;    public int hashCode() {&#10;        return Integer.hashCode(serviceId);&#10;    }&#10;}&#10;&#10;" />
              <option name="updatedContent" value="package com.hotel.model;&#13;&#10;&#13;&#10;import java.util.Date;&#13;&#10;&#13;&#10;/**&#13;&#10; * Model class representing a hotel room service&#13;&#10; */&#13;&#10;public class RoomService {&#13;&#10;    &#13;&#10;    public enum ServiceCategory {&#13;&#10;        HOUSEKEEPING, FOOD, LAUNDRY, MAINTENANCE, ENTERTAINMENT, TRANSPORTATION, ACCOMMODATION&#13;&#10;    }&#13;&#10;    &#13;&#10;    private int serviceId;&#13;&#10;    private String serviceName;&#13;&#10;    private String serviceDescription;&#13;&#10;    private ServiceCategory serviceCategory;&#13;&#10;    private double basePrice;&#13;&#10;    private boolean isActive;&#13;&#10;    private Date createdDate;&#13;&#10;    &#13;&#10;    // Constructors&#13;&#10;    public RoomService() {&#13;&#10;        this.isActive = true;&#13;&#10;        this.createdDate = new Date();&#13;&#10;    }&#13;&#10;    &#13;&#10;    public RoomService(String serviceName, String serviceDescription, &#13;&#10;                      ServiceCategory serviceCategory, double basePrice) {&#13;&#10;        this();&#13;&#10;        this.serviceName = serviceName;&#13;&#10;        this.serviceDescription = serviceDescription;&#13;&#10;        this.serviceCategory = serviceCategory;&#13;&#10;        this.basePrice = basePrice;&#13;&#10;    }&#13;&#10;    &#13;&#10;    // Getters and Setters&#13;&#10;    public int getServiceId() {&#13;&#10;        return serviceId;&#13;&#10;    }&#13;&#10;    &#13;&#10;    public void setServiceId(int serviceId) {&#13;&#10;        this.serviceId = serviceId;&#13;&#10;    }&#13;&#10;    &#13;&#10;    public String getServiceName() {&#13;&#10;        return serviceName;&#13;&#10;    }&#13;&#10;    &#13;&#10;    public void setServiceName(String serviceName) {&#13;&#10;        this.serviceName = serviceName;&#13;&#10;    }&#13;&#10;    &#13;&#10;    public String getServiceDescription() {&#13;&#10;        return serviceDescription;&#13;&#10;    }&#13;&#10;    &#13;&#10;    public void setServiceDescription(String serviceDescription) {&#13;&#10;        this.serviceDescription = serviceDescription;&#13;&#10;    }&#13;&#10;    &#13;&#10;    public ServiceCategory getServiceCategory() {&#13;&#10;        return serviceCategory;&#13;&#10;    }&#13;&#10;    &#13;&#10;    public void setServiceCategory(ServiceCategory serviceCategory) {&#13;&#10;        this.serviceCategory = serviceCategory;&#13;&#10;    }&#13;&#10;    &#13;&#10;    public String getServiceCategoryString() {&#13;&#10;        return serviceCategory != null ? serviceCategory.name() : &quot;&quot;;&#13;&#10;    }&#13;&#10;    &#13;&#10;    public void setServiceCategoryFromString(String categoryString) {&#13;&#10;        try {&#13;&#10;            this.serviceCategory = ServiceCategory.valueOf(categoryString);&#13;&#10;        } catch (IllegalArgumentException e) {&#13;&#10;            this.serviceCategory = ServiceCategory.HOUSEKEEPING;&#13;&#10;        }&#13;&#10;    }&#13;&#10;    &#13;&#10;    public double getBasePrice() {&#13;&#10;        return basePrice;&#13;&#10;    }&#13;&#10;    &#13;&#10;    public void setBasePrice(double basePrice) {&#13;&#10;        this.basePrice = basePrice;&#13;&#10;    }&#13;&#10;    &#13;&#10;    public boolean isActive() {&#13;&#10;        return isActive;&#13;&#10;    }&#13;&#10;    &#13;&#10;    public void setActive(boolean active) {&#13;&#10;        isActive = active;&#13;&#10;    }&#13;&#10;    &#13;&#10;    public Date getCreatedDate() {&#13;&#10;        return createdDate;&#13;&#10;    }&#13;&#10;    &#13;&#10;    public void setCreatedDate(Date createdDate) {&#13;&#10;        this.createdDate = createdDate;&#13;&#10;    }&#13;&#10;    &#13;&#10;    // Utility methods&#13;&#10;    public String getFormattedPrice() {&#13;&#10;        return String.format(&quot;$%.2f&quot;, basePrice);&#13;&#10;    }&#13;&#10;    &#13;&#10;    public String getDisplayName() {&#13;&#10;        return serviceName + &quot; (&quot; + getFormattedPrice() + &quot;)&quot;;&#13;&#10;    }&#13;&#10;    &#13;&#10;    public double getPrice() {&#13;&#10;        return this.basePrice;&#13;&#10;    }&#13;&#10;    &#13;&#10;    @Override&#13;&#10;    public String toString() {&#13;&#10;        return &quot;RoomService{&quot; +&#13;&#10;                &quot;serviceId=&quot; + serviceId +&#13;&#10;                &quot;, serviceName='&quot; + serviceName + '\'' +&#13;&#10;                &quot;, serviceCategory=&quot; + serviceCategory +&#13;&#10;                &quot;, basePrice=&quot; + basePrice +&#13;&#10;                &quot;, isActive=&quot; + isActive +&#13;&#10;                '}';&#13;&#10;    }&#13;&#10;    &#13;&#10;    @Override&#13;&#10;    public boolean equals(Object obj) {&#13;&#10;        if (this == obj) return true;&#13;&#10;        if (obj == null || getClass() != obj.getClass()) return false;&#13;&#10;        &#13;&#10;        RoomService that = (RoomService) obj;&#13;&#10;        return serviceId == that.serviceId;&#13;&#10;    }&#13;&#10;    &#13;&#10;    @Override&#13;&#10;    public int hashCode() {&#13;&#10;        return Integer.hashCode(serviceId);&#13;&#10;    }&#13;&#10;}" />
            </PendingDiffInfo>
          </value>
        </entry>
        <entry key="$PROJECT_DIR$/HotelRentalSystem/src/main/java/com/hotel/model/ServiceUsage.java">
          <value>
            <PendingDiffInfo>
              <option name="filePath" value="$PROJECT_DIR$/HotelRentalSystem/src/main/java/com/hotel/model/ServiceUsage.java" />
              <option name="originalContent" value="package com.hotel.model;&#10;&#10;import java.util.Date;&#10;&#10;/**&#10; * Model class representing customer service usage&#10; */&#10;public class ServiceUsage {&#10;    &#10;    private long usageId;&#10;    private long bookingId;&#10;    private int customerId;&#10;    private int serviceId;&#10;    private Date usageDate;&#10;    private int quantity;&#10;    private double unitPrice;&#10;    private double totalCost;&#10;    private boolean isComplimentary;&#10;    private String notes;&#10;    &#10;    // Related objects&#10;    private Customer customer;&#10;    private RoomService roomService;&#10;    private Booking booking;&#10;    &#10;    // Constructors&#10;    public ServiceUsage() {&#10;        this.usageDate = new Date();&#10;        this.quantity = 1;&#10;        this.isComplimentary = false;&#10;    }&#10;    &#10;    public ServiceUsage(long bookingId, int customerId, int serviceId, &#10;                       int quantity, double unitPrice) {&#10;        this();&#10;        this.bookingId = bookingId;&#10;        this.customerId = customerId;&#10;        this.serviceId = serviceId;&#10;        this.quantity = quantity;&#10;        this.unitPrice = unitPrice;&#10;        this.totalCost = quantity * unitPrice;&#10;    }&#10;    &#10;    // Getters and Setters&#10;    public long getUsageId() {&#10;        return usageId;&#10;    }&#10;    &#10;    public void setUsageId(long usageId) {&#10;        this.usageId = usageId;&#10;    }&#10;    &#10;    public long getBookingId() {&#10;        return bookingId;&#10;    }&#10;    &#10;    public void setBookingId(long bookingId) {&#10;        this.bookingId = bookingId;&#10;    }&#10;    &#10;    public int getCustomerId() {&#10;        return customerId;&#10;    }&#10;    &#10;    public void setCustomerId(int customerId) {&#10;        this.customerId = customerId;&#10;    }&#10;    &#10;    public int getServiceId() {&#10;        return serviceId;&#10;    }&#10;    &#10;    public void setServiceId(int serviceId) {&#10;        this.serviceId = serviceId;&#10;    }&#10;    &#10;    public Date getUsageDate() {&#10;        return usageDate;&#10;    }&#10;    &#10;    public void setUsageDate(Date usageDate) {&#10;        this.usageDate = usageDate;&#10;    }&#10;    &#10;    public int getQuantity() {&#10;        return quantity;&#10;    }&#10;    &#10;    public void setQuantity(int quantity) {&#10;        this.quantity = quantity;&#10;        // Recalculate total cost&#10;        this.totalCost = quantity * unitPrice;&#10;    }&#10;    &#10;    public double getUnitPrice() {&#10;        return unitPrice;&#10;    }&#10;    &#10;    public void setUnitPrice(double unitPrice) {&#10;        this.unitPrice = unitPrice;&#10;        // Recalculate total cost&#10;        this.totalCost = quantity * unitPrice;&#10;    }&#10;    &#10;    public double getTotalCost() {&#10;        return totalCost;&#10;    }&#10;    &#10;    public void setTotalCost(double totalCost) {&#10;        this.totalCost = totalCost;&#10;    }&#10;    &#10;    public boolean isComplimentary() {&#10;        return isComplimentary;&#10;    }&#10;    &#10;    public void setComplimentary(boolean complimentary) {&#10;        isComplimentary = complimentary;&#10;        if (complimentary) {&#10;            this.totalCost = 0.0;&#10;        } else {&#10;            this.totalCost = quantity * unitPrice;&#10;        }&#10;    }&#10;    &#10;    public String getNotes() {&#10;        return notes;&#10;    }&#10;    &#10;    public void setNotes(String notes) {&#10;        this.notes = notes;&#10;    }&#10;    &#10;    public Customer getCustomer() {&#10;        return customer;&#10;    }&#10;    &#10;    public void setCustomer(Customer customer) {&#10;        this.customer = customer;&#10;        if (customer != null) {&#10;            this.customerId = customer.getCustomerId();&#10;        }&#10;    }&#10;    &#10;    public RoomService getRoomService() {&#10;        return roomService;&#10;    }&#10;    &#10;    public void setRoomService(RoomService roomService) {&#10;        this.roomService = roomService;&#10;        if (roomService != null) {&#10;            this.serviceId = roomService.getServiceId();&#10;            this.unitPrice = roomService.getBasePrice();&#10;            // Recalculate total cost&#10;            this.totalCost = quantity * unitPrice;&#10;        }&#10;    }&#10;    &#10;    public Booking getBooking() {&#10;        return booking;&#10;    }&#10;    &#10;    public void setBooking(Booking booking) {&#10;        this.booking = booking;&#10;        if (booking != null) {&#10;            this.bookingId = booking.getBookingId();&#10;        }&#10;    }&#10;    &#10;    // Utility methods&#10;    public String getFormattedTotalCost() {&#10;        return String.format(&quot;$%.2f&quot;, totalCost);&#10;    }&#10;    &#10;    public String getFormattedUnitPrice() {&#10;        return String.format(&quot;$%.2f&quot;, unitPrice);&#10;    }&#10;    &#10;    public String getServiceName() {&#10;        return roomService != null ? roomService.getServiceName() : &quot;Unknown Service&quot;;&#10;    }&#10;    &#10;    public String getCustomerName() {&#10;        return customer != null ? customer.getFullName() : &quot;Unknown Customer&quot;;&#10;    }&#10;    &#10;    public String getComplimentaryStatus() {&#10;        return isComplimentary ? &quot;Complimentary&quot; : &quot;Paid&quot;;&#10;    }&#10;    &#10;    public void calculateTotalCost() {&#10;        if (isComplimentary) {&#10;            this.totalCost = 0.0;&#10;        } else {&#10;            this.totalCost = quantity * unitPrice;&#10;        }&#10;    }&#10;    &#10;    @Override&#10;    public String toString() {&#10;        return &quot;ServiceUsage{&quot; +&#10;                &quot;usageId=&quot; + usageId +&#10;                &quot;, bookingId=&quot; + bookingId +&#10;                &quot;, customerId=&quot; + customerId +&#10;                &quot;, serviceId=&quot; + serviceId +&#10;                &quot;, quantity=&quot; + quantity +&#10;                &quot;, unitPrice=&quot; + unitPrice +&#10;                &quot;, totalCost=&quot; + totalCost +&#10;                &quot;, isComplimentary=&quot; + isComplimentary +&#10;                &quot;, usageDate=&quot; + usageDate +&#10;                '}';&#10;    }&#10;    &#10;    @Override&#10;    public boolean equals(Object obj) {&#10;        if (this == obj) return true;&#10;        if (obj == null || getClass() != obj.getClass()) return false;&#10;        &#10;        ServiceUsage that = (ServiceUsage) obj;&#10;        return usageId == that.usageId;&#10;    }&#10;    &#10;    @Override&#10;    public int hashCode() {&#10;        return Long.hashCode(usageId);&#10;    }&#10;}&#10;&#10;" />
              <option name="updatedContent" value="package com.hotel.model;&#13;&#10;&#13;&#10;import java.util.Date;&#13;&#10;&#13;&#10;/**&#13;&#10; * Model class representing customer service usage&#13;&#10; */&#13;&#10;public class ServiceUsage {&#13;&#10;    &#13;&#10;    private long usageId;&#13;&#10;    private long bookingId;&#13;&#10;    private int customerId;&#13;&#10;    private int serviceId;&#13;&#10;    private Date usageDate;&#13;&#10;    private int quantity;&#13;&#10;    private double unitPrice;&#13;&#10;    private double totalCost;&#13;&#10;    private boolean isComplimentary;&#13;&#10;    private String notes;&#13;&#10;    &#13;&#10;    // Related objects&#13;&#10;    private Customer customer;&#13;&#10;    private RoomService roomService;&#13;&#10;    private Booking booking;&#13;&#10;    &#13;&#10;    // Constructors&#13;&#10;    public ServiceUsage() {&#13;&#10;        this.usageDate = new Date();&#13;&#10;        this.quantity = 1;&#13;&#10;        this.isComplimentary = false;&#13;&#10;    }&#13;&#10;    &#13;&#10;    public ServiceUsage(long bookingId, int customerId, int serviceId, &#13;&#10;                       int quantity, double unitPrice) {&#13;&#10;        this();&#13;&#10;        this.bookingId = bookingId;&#13;&#10;        this.customerId = customerId;&#13;&#10;        this.serviceId = serviceId;&#13;&#10;        this.quantity = quantity;&#13;&#10;        this.unitPrice = unitPrice;&#13;&#10;        this.totalCost = quantity * unitPrice;&#13;&#10;    }&#13;&#10;    &#13;&#10;    // Getters and Setters&#13;&#10;    public long getUsageId() {&#13;&#10;        return usageId;&#13;&#10;    }&#13;&#10;    &#13;&#10;    public void setUsageId(long usageId) {&#13;&#10;        this.usageId = usageId;&#13;&#10;    }&#13;&#10;    &#13;&#10;    public long getBookingId() {&#13;&#10;        return bookingId;&#13;&#10;    }&#13;&#10;    &#13;&#10;    public void setBookingId(long bookingId) {&#13;&#10;        this.bookingId = bookingId;&#13;&#10;    }&#13;&#10;    &#13;&#10;    public int getCustomerId() {&#13;&#10;        return customerId;&#13;&#10;    }&#13;&#10;    &#13;&#10;    public void setCustomerId(int customerId) {&#13;&#10;        this.customerId = customerId;&#13;&#10;    }&#13;&#10;    &#13;&#10;    public int getServiceId() {&#13;&#10;        return serviceId;&#13;&#10;    }&#13;&#10;    &#13;&#10;    public void setServiceId(int serviceId) {&#13;&#10;        this.serviceId = serviceId;&#13;&#10;    }&#13;&#10;    &#13;&#10;    public Date getUsageDate() {&#13;&#10;        return usageDate;&#13;&#10;    }&#13;&#10;    &#13;&#10;    public void setUsageDate(Date usageDate) {&#13;&#10;        this.usageDate = usageDate;&#13;&#10;    }&#13;&#10;    &#13;&#10;    public int getQuantity() {&#13;&#10;        return quantity;&#13;&#10;    }&#13;&#10;    &#13;&#10;    public void setQuantity(int quantity) {&#13;&#10;        this.quantity = quantity;&#13;&#10;        // Recalculate total cost&#13;&#10;        this.totalCost = quantity * unitPrice;&#13;&#10;    }&#13;&#10;    &#13;&#10;    public double getUnitPrice() {&#13;&#10;        return unitPrice;&#13;&#10;    }&#13;&#10;    &#13;&#10;    public void setUnitPrice(double unitPrice) {&#13;&#10;        this.unitPrice = unitPrice;&#13;&#10;        // Recalculate total cost&#13;&#10;        this.totalCost = quantity * unitPrice;&#13;&#10;    }&#13;&#10;    &#13;&#10;    public double getTotalCost() {&#13;&#10;        return totalCost;&#13;&#10;    }&#13;&#10;    &#13;&#10;    public void setTotalCost(double totalCost) {&#13;&#10;        this.totalCost = totalCost;&#13;&#10;    }&#13;&#10;    &#13;&#10;    public boolean isComplimentary() {&#13;&#10;        return isComplimentary;&#13;&#10;    }&#13;&#10;    &#13;&#10;    public void setComplimentary(boolean complimentary) {&#13;&#10;        isComplimentary = complimentary;&#13;&#10;        if (complimentary) {&#13;&#10;            this.totalCost = 0.0;&#13;&#10;        } else {&#13;&#10;            this.totalCost = quantity * unitPrice;&#13;&#10;        }&#13;&#10;    }&#13;&#10;    &#13;&#10;    public String getNotes() {&#13;&#10;        return notes;&#13;&#10;    }&#13;&#10;    &#13;&#10;    public void setNotes(String notes) {&#13;&#10;        this.notes = notes;&#13;&#10;    }&#13;&#10;    &#13;&#10;    public Customer getCustomer() {&#13;&#10;        return customer;&#13;&#10;    }&#13;&#10;    &#13;&#10;    public void setCustomer(Customer customer) {&#13;&#10;        this.customer = customer;&#13;&#10;        if (customer != null) {&#13;&#10;            this.customerId = customer.getCustomerId();&#13;&#10;        }&#13;&#10;    }&#13;&#10;    &#13;&#10;    public RoomService getRoomService() {&#13;&#10;        return roomService;&#13;&#10;    }&#13;&#10;    &#13;&#10;    public void setRoomService(RoomService roomService) {&#13;&#10;        this.roomService = roomService;&#13;&#10;        if (roomService != null) {&#13;&#10;            this.serviceId = roomService.getServiceId();&#13;&#10;            this.unitPrice = roomService.getBasePrice();&#13;&#10;            // Recalculate total cost&#13;&#10;            this.totalCost = quantity * unitPrice;&#13;&#10;        }&#13;&#10;    }&#13;&#10;    &#13;&#10;    public Booking getBooking() {&#13;&#10;        return booking;&#13;&#10;    }&#13;&#10;    &#13;&#10;    public void setBooking(Booking booking) {&#13;&#10;        this.booking = booking;&#13;&#10;        if (booking != null) {&#13;&#10;            this.bookingId = booking.getBookingId();&#13;&#10;        }&#13;&#10;    }&#13;&#10;    &#13;&#10;    // Utility methods&#13;&#10;    public String getFormattedTotalCost() {&#13;&#10;        return String.format(&quot;$%.2f&quot;, totalCost);&#13;&#10;    }&#13;&#10;    &#13;&#10;    public String getFormattedUnitPrice() {&#13;&#10;        return String.format(&quot;$%.2f&quot;, unitPrice);&#13;&#10;    }&#13;&#10;    &#13;&#10;    public String getServiceName() {&#13;&#10;        return roomService != null ? roomService.getServiceName() : &quot;Unknown Service&quot;;&#13;&#10;    }&#13;&#10;    &#13;&#10;    public String getCustomerName() {&#13;&#10;        return customer != null ? customer.getFullName() : &quot;Unknown Customer&quot;;&#13;&#10;    }&#13;&#10;    &#13;&#10;    public String getComplimentaryStatus() {&#13;&#10;        return isComplimentary ? &quot;Complimentary&quot; : &quot;Paid&quot;;&#13;&#10;    }&#13;&#10;    &#13;&#10;    public void calculateTotalCost() {&#13;&#10;        if (isComplimentary) {&#13;&#10;            this.totalCost = 0.0;&#13;&#10;        } else {&#13;&#10;            this.totalCost = quantity * unitPrice;&#13;&#10;        }&#13;&#10;    }&#13;&#10;    &#13;&#10;    @Override&#13;&#10;    public String toString() {&#13;&#10;        return &quot;ServiceUsage{&quot; +&#13;&#10;                &quot;usageId=&quot; + usageId +&#13;&#10;                &quot;, bookingId=&quot; + bookingId +&#13;&#10;                &quot;, customerId=&quot; + customerId +&#13;&#10;                &quot;, serviceId=&quot; + serviceId +&#13;&#10;                &quot;, quantity=&quot; + quantity +&#13;&#10;                &quot;, unitPrice=&quot; + unitPrice +&#13;&#10;                &quot;, totalCost=&quot; + totalCost +&#13;&#10;                &quot;, isComplimentary=&quot; + isComplimentary +&#13;&#10;                &quot;, usageDate=&quot; + usageDate +&#13;&#10;                '}';&#13;&#10;    }&#13;&#10;    &#13;&#10;    @Override&#13;&#10;    public boolean equals(Object obj) {&#13;&#10;        if (this == obj) return true;&#13;&#10;        if (obj == null || getClass() != obj.getClass()) return false;&#13;&#10;        &#13;&#10;        ServiceUsage that = (ServiceUsage) obj;&#13;&#10;        return usageId == that.usageId;&#13;&#10;    }&#13;&#10;    &#13;&#10;    @Override&#13;&#10;    public int hashCode() {&#13;&#10;        return Long.hashCode(usageId);&#13;&#10;    }&#13;&#10;&#13;&#10;    public RoomService getService() {&#13;&#10;        return this.roomService;&#13;&#10;    }&#13;&#10;&#13;&#10;    public void setService(RoomService service) {&#13;&#10;        this.roomService = service;&#13;&#10;    }&#13;&#10;}" />
            </PendingDiffInfo>
          </value>
        </entry>
      </map>
    </option>
  </component>
</project>